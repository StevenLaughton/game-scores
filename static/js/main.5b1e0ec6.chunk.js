(this["webpackJsonpgame-scores"]=this["webpackJsonpgame-scores"]||[]).push([[0],{112:function(e,n,t){},133:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),r=t(18),c=t.n(r),o=(t(112),t(79)),s=t(17),u=t(165),l=t(159),d=t(167),j=t(44),b=t(20),h=t(160),f=t(166),m=t(72),O=t(97),v=t.n(O),p=t(95),y=t.n(p),x=t(1);function w(e){var n=Object(a.useState)(!1),t=Object(b.a)(n,2),r=t[0],c=t[1],o=i.a.forwardRef((function(e,n){e.children;var t=e.onClick;return Object(x.jsx)(y.a,{ref:n,onClick:function(e){e.preventDefault(),t(e)}})}));return Object(x.jsxs)(f.a,{bg:"light",border:"light",children:[Object(x.jsx)(f.a.Header,{children:Object(x.jsxs)("div",{className:"d-flex align-items-center",children:[Object(x.jsxs)(h.a,{className:"mx-1",children:[Object(x.jsx)(h.a.Toggle,{size:"sm",as:o}),Object(x.jsx)(h.a.Menu,{children:e.menu})]}),Object(x.jsx)("span",{children:e.name}),Object(x.jsx)("div",{className:"flex-grow-1"}),Object(x.jsx)("div",{className:r?"isRotated":"",children:Object(x.jsx)(v.a,{className:"mx-1",onClick:function(){return c(!r)}})})]})}),Object(x.jsx)(m.a,{in:r,children:Object(x.jsx)(f.a.Body,{className:"p-0",children:e.children})}),Object(x.jsx)(f.a.Footer,{className:"text-muted text-end",children:Object(x.jsxs)("span",{className:"mx-2",children:["Total: ",e.points]})})]})}var g=t(8),k=t(16),q=function(){function e(){if(Object(g.a)(this,e),this.constructor===e)throw new Error("Abstract classes can't be instantiated.")}return Object(k.a)(e,[{key:"action",value:function(){throw new Error("Method must be implemented.")}}]),e}(),C=function e(n){Object(g.a)(this,e),this.name=n},A=t(98),S=t.n(A);function M(e){return Object(x.jsx)(f.a,{onClick:e.onClick,bg:"secondary",border:"secondary",className:"text-center app-card",children:Object(x.jsx)(f.a.Body,{children:Object(x.jsx)(S.a,{style:{fontSize:65}})})})}var N=t(157),E=t(162),B=t(161),G=t(164),P=t(170),H=t(96),_=function(){function e(){Object(g.a)(this,e),this.name="Silver"}return Object(k.a)(e,[{key:"action",value:function(){return 1}}]),e}(),R=function(){function e(){Object(g.a)(this,e),this.name="Gold"}return Object(k.a)(e,[{key:"action",value:function(){return 3}}]),e}();var D=function(){function e(){Object(g.a)(this,e),this.name="Battle Wins"}return Object(k.a)(e,[{key:"action",value:function(){return 1}}]),e}(),I=function(){function e(){Object(g.a)(this,e),this.name="Battle Losses"}return Object(k.a)(e,[{key:"action",value:function(){return-1}}]),e}();var T=function e(n,t){Object(g.a)(this,e),this.name="".concat(n," Phase One"),this.action=function(){return t}};function V(e,n,t){var a,i,r,c=null===e||void 0===e?void 0:e.get("wonders"),o=null===(a=null!==t&&void 0!==t?t:null===c||void 0===c?void 0:c.sideA)||void 0===a||a,s=null!==(i=null!==n&&void 0!==n?n:null===c||void 0===c?void 0:c.option)&&void 0!==i?i:F.Rhodes;if(o)r=n===F.Giza?[3,5,7]:[3,0,7];else switch(s){case F.Rhodes:r=[3,4];break;case F.Alexandria:r=[0,0,7];break;case F.Ephesus:r=[2,3,5];break;case F.Babylon:r=[3,0,0];break;case F.Olympia:r=[0,5,0];break;case F.Halicarnassus:r=[2,1,0];break;case F.Giza:r=[3,5,5,7];break;default:r=[0,0,0]}return{points:0,option:s,sideA:o,cards:r.map((function(e){return{item:new T(n,e),quantity:0}}))}}var F={Rhodes:"Rhodes",Alexandria:"Alexandria",Ephesus:"Ephesus",Babylon:"Babylon",Olympia:"Olympia",Halicarnassus:"Halicarnassus",Giza:"Giza"},z=function(){function e(){Object(g.a)(this,e),this.name="Two Victory Points"}return Object(k.a)(e,[{key:"action",value:function(){return 2}}]),e}(),L=function(){function e(){Object(g.a)(this,e),this.name="Three Victory Points"}return Object(k.a)(e,[{key:"action",value:function(){return 3}}]),e}(),K=function(){function e(){Object(g.a)(this,e),this.name="Four Victory Points"}return Object(k.a)(e,[{key:"action",value:function(){return 4}}]),e}(),W=function(){function e(){Object(g.a)(this,e),this.name="Five Victory Points"}return Object(k.a)(e,[{key:"action",value:function(){return 5}}]),e}(),J=function(){function e(){Object(g.a)(this,e),this.name="Six Victory Points"}return Object(k.a)(e,[{key:"action",value:function(){return 6}}]),e}(),U=function(){function e(){Object(g.a)(this,e),this.name="Seven Victory Points"}return Object(k.a)(e,[{key:"action",value:function(){return 7}}]),e}(),X=function(){function e(){Object(g.a)(this,e),this.name="Eight Victory Points"}return Object(k.a)(e,[{key:"action",value:function(){return 8}}]),e}();var Q=function(){function e(){Object(g.a)(this,e),this.name="Tablet"}return Object(k.a)(e,[{key:"action",value:function(){return 1}}]),e}(),Y=function(){function e(){Object(g.a)(this,e),this.name="Cog"}return Object(k.a)(e,[{key:"action",value:function(){return 1}}]),e}(),Z=function(){function e(){Object(g.a)(this,e),this.name="Compass"}return Object(k.a)(e,[{key:"action",value:function(){return 1}}]),e}();var $=function(e){return e.reduce((function(e,n){return e+n}),0)},ee=function(e,n){return e.length===n+1?e[0]:e[n+1]},ne=function(e,n){return 0===n?e[e.length-1]:e[n-1]},te=function(e,n){var t,a=0;return null===(t=e.board)||void 0===t||t.get("misc").cards.forEach((function(e){e.item.name===n&&(a=e.quantity)})),a},ae=function(e){return te(e,"Raw Materials")},ie=function(e){return te(e,"Manufactured Goods")},re=function(e){return te(e,"Military Structures")},ce=function(e){var n,t,a;return null!==(n=null===(t=e.board)||void 0===t||null===(a=t.get("military").cards.filter((function(e){return"Battle Losses"===e.item.name&&e.quantity>0})))||void 0===a?void 0:a.length)&&void 0!==n?n:0},oe=function(e,n){var t,a;return $(null!==(t=null===(a=e.board)||void 0===a?void 0:a.get(n).cards.map((function(e){return e.quantity})))&&void 0!==t?t:[0])},se=function e(){Object(g.a)(this,e),this.name="Haven",this.action=function(e){return ae(e.players[e.index])}},ue=function e(){Object(g.a)(this,e),this.name="Lighthouse",this.action=function(e){return oe(e.players[e.index],"commerce")}},le=function e(){Object(g.a)(this,e),this.name="Chamber Of Commerce",this.action=function(e){return 2*ie(e.players[e.index])}},de=function e(){Object(g.a)(this,e),this.name="Arena",this.action=function(e){return oe(e.players[e.index],"wonders")}},je=function e(){Object(g.a)(this,e),this.name="Other",this.action=function(){return 0}};var be="misc cards do not play an action",he=function e(){Object(g.a)(this,e),this.name="Raw Materials",this.action=function(){throw new Error(be)}},fe=function e(){Object(g.a)(this,e),this.name="Manufactured Goods",this.action=function(){throw new Error(be)}},me=function e(){Object(g.a)(this,e),this.name="Military Structures",this.action=function(){throw new Error(be)}};var Oe=t(35),ve=t(33),pe=function(e){Object(Oe.a)(t,e);var n=Object(ve.a)(t);function t(){var e;Object(g.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Workers Guild",e.action=function(e){return ae(ne(e.players,e.index))+ae(ee(e.players,e.index))},e}return t}(q),ye=function(e){Object(Oe.a)(t,e);var n=Object(ve.a)(t);function t(){var e;Object(g.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Craftsmens Guild",e.action=function(e){return 2*ie(ne(e.players,e.index))+2*ie(ee(e.players,e.index))},e}return t}(q),xe=function(e){Object(Oe.a)(t,e);var n=Object(ve.a)(t);function t(){var e;Object(g.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Traders Guild",e.action=function(e){return oe(ne(e.players,e.index),"commerce")+oe(ee(e.players,e.index),"commerce")},e}return t}(q),we=function(e){Object(Oe.a)(t,e);var n=Object(ve.a)(t);function t(){var e;Object(g.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Philosophers Guild",e.action=function(e){return oe(ne(e.players,e.index),"science")+oe(ee(e.players,e.index),"science")},e}return t}(q),ge=function(e){Object(Oe.a)(t,e);var n=Object(ve.a)(t);function t(){var e;Object(g.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Spies Guild",e.action=function(e){return re(ne(e.players,e.index))+re(ee(e.players,e.index))},e}return t}(q),ke=function(e){Object(Oe.a)(t,e);var n=Object(ve.a)(t);function t(){var e;Object(g.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Strategists Guild",e.action=function(e){return ce(ne(e.players,e.index))+ce(ee(e.players,e.index))},e}return t}(q),qe=function(e){Object(Oe.a)(t,e);var n=Object(ve.a)(t);function t(){var e;Object(g.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Shipowners Guild",e.action=function(e){return ae(e.players[e.index])+ie(e.players[e.index])+oe(e.players[e.index],"guild")},e}return t}(q),Ce=function(e){Object(Oe.a)(t,e);var n=Object(ve.a)(t);function t(){var e;Object(g.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Magistrates Guild",e.action=function(e){return oe(ne(e.players,e.index),"civic")+oe(ee(e.players,e.index),"civic")},e}return t}(q),Ae=function(e){Object(Oe.a)(t,e);var n=Object(ve.a)(t);function t(){var e;Object(g.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Builders Guild",e.action=function(e){return oe(ne(e.players,e.index),"wonders")+oe(e.players[e.index],"wonders")+oe(ee(e.players,e.index),"wonders")},e}return t}(q);var Se=function(){var e=new Map;return e.set("wonders",V()),function(e){e.set("military",{points:0,cards:[{item:new D,quantity:0},{item:new I,quantity:0}]})}(e),function(e){e.set("money",{points:0,cards:[{item:new _,quantity:0},{item:new R,quantity:0}]})}(e),function(e){e.set("civic",{points:0,cards:[{item:new z,quantity:0},{item:new L,quantity:0},{item:new K,quantity:0},{item:new W,quantity:0},{item:new J,quantity:0},{item:new U,quantity:0},{item:new X,quantity:0}]})}(e),function(e){e.set("science",{points:0,cards:[{item:new Q,quantity:0},{item:new Y,quantity:0},{item:new Z,quantity:0}]})}(e),function(e){e.set("commerce",{points:0,cards:[{item:new se,quantity:0},{item:new ue,quantity:0},{item:new le,quantity:0},{item:new de,quantity:0},{item:new je,quantity:0}]})}(e),function(e){e.set("guild",{points:0,cards:[{item:new pe,quantity:0},{item:new ye,quantity:0},{item:new xe,quantity:0},{item:new we,quantity:0},{item:new ge,quantity:0},{item:new ke,quantity:0},{item:new qe,quantity:0},{item:new Ce,quantity:0},{item:new Ae,quantity:0}]})}(e),function(e){e.set("misc",{points:0,cards:[{item:new he,quantity:0},{item:new fe,quantity:0},{item:new me,quantity:0}]})}(e),e},Me=function(){return Se()};function Ne(e){var n=Number.MAX_VALUE;return Object(x.jsxs)("div",{className:"quantity-input",children:[Object(x.jsx)("button",{className:"quantity-input__modifier quantity-input__modifier--left",type:"button",onClick:function(){e.value>0&&e.onChange(e.value-1)},children:"\u2014"}),Object(x.jsx)("input",{className:"quantity-input__screen",type:"text",value:e.value,readOnly:!0}),Object(x.jsx)("button",{className:"quantity-input__modifier quantity-input__modifier--right",type:"button",onClick:function(){e.value<n&&e.onChange(e.value+1)},children:"\uff0b"})]})}var Ee=t(103);var Be=t(171),Ge=t(163);function Pe(e){var n,t=function(e){var n=Object(a.useState)(new Map(e)),t=Object(b.a)(n,2),i=t[0],r=t[1];return[i,{set:function(e,n){r((function(t){var a=new Map(t);return a.set(e,n),a}))},unset:function(e){r((function(n){var t=new Map(n);return t.delete(e),t}))},clear:function(){r((function(e){var n=new Map(e);return n.clear(),n}))}}]}(null!==(n=e.board)&&void 0!==n?n:Me()),i=Object(b.a)(t,2),r=i[0],c=i[1].set,o=function(e,n,t){var a=r.get(n);a.cards[t].quantity=e,c(n,a)},s=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(N.a,{children:[Object(x.jsx)(Ee.a,{options:Object.entries(F).map((function(e){return{value:e[0],label:e[1]}})),value:{label:r.get("wonders").option},isSearchable:!1,onChange:function(e){return c("wonders",V(r,e.value))}}),Object(x.jsx)(Be.a,{label:"Side ".concat(r.get("wonders").sideA?"A":"B"),control:Object(x.jsx)(Ge.a,{checked:r.get("wonders").sideA,onChange:function(e){return c("wonders",V(r,null,e.target.checked))}})})]}),Object(x.jsx)("div",{className:"my-2",children:null===r||void 0===r?void 0:r.get("wonders").cards.map((function(e,n){return Object(x.jsx)(E.a.Check,{inline:!0,label:"Phase ".concat(n+1),checked:1===e.quantity,onChange:function(e){return o(+e.target.checked,"wonders",n)},type:"checkbox"},n)}))})]})};return Object(x.jsxs)(B.a,{show:e.show,onHide:e.handleClose,children:[Object(x.jsx)(B.a.Header,{closeButton:!0,children:Object(x.jsx)(B.a.Title,{children:"Scoreboard Builder"})}),Object(x.jsx)(B.a.Body,{className:"p-0",children:Object(x.jsx)(G.a,{children:Object(j.a)(r.keys()).map((function(e,n){return Object(x.jsxs)(G.a.Item,{eventKey:n,children:[Object(x.jsx)(G.a.Header,{children:e}),Object(x.jsx)(G.a.Body,{children:Object(x.jsx)(P.a,{variant:"flush",children:"wonders"===e?Object(x.jsx)(s,{}):null===r||void 0===r?void 0:r.get(e).cards.map((function(n,t){return Object(x.jsxs)(P.a.Item,{className:"d-flex",children:[n.item.name,Object(x.jsx)("div",{className:"flex-grow-1"}),Object(x.jsx)(Ne,{value:n.quantity,onChange:function(n){return o(n,e,t)}})]},t)}))})})]},n)}))})}),Object(x.jsx)(B.a.Footer,{children:Object(x.jsx)(H.a,{variant:"primary",onClick:function(){return e.handleSave(r)},children:"Save Changes"})})]})}var He=t(158);function _e(e){return Object(x.jsx)(G.a,{children:Object(j.a)(e.board.keys()).map((function(n,t){return Object(x.jsxs)(G.a.Item,{eventKey:t,children:[Object(x.jsxs)(G.a.Header,{children:[Object(x.jsxs)(He.a,{bg:"success",className:"mx-2",pill:!0,children:[" ",e.board.get(n).points]}),n]}),Object(x.jsx)(G.a.Body,{children:Object(x.jsx)(P.a,{variant:"flush",children:e.board.get(n).cards.map((function(e,n){return Object(x.jsxs)(P.a.Item,{className:"d-flex",children:[e.item.name,Object(x.jsx)("div",{className:"flex-grow-1"}),Object(x.jsx)("span",{children:e.quantity})]},n)}))})})]},t)}))})}var Re=t(2),De=t(84),Ie=function(e){return Object(x.jsx)(De.a,{onDragEnd:e.onDragEnd,children:Object(x.jsx)(De.c,{droppableId:"droppable",children:function(n){return Object(x.jsxs)("div",Object(Re.a)(Object(Re.a)({},n.droppableProps),{},{ref:n.innerRef,children:[e.children,n.placeholder]}))}})})};Ie.Drag=function(e){return Object(x.jsx)(De.b,{draggableId:e.name,index:e.index,children:function(n,t){return Object(x.jsx)("div",Object(Re.a)(Object(Re.a)(Object(Re.a)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{className:"mb-3",style:(t.isDragging,a=n.draggableProps.style,Object(Re.a)({userSelect:"none"},a)),children:e.children}));var a}},e.name)};var Te=Ie,Ve=t(168),Fe=t(169),ze=function(e){return $(e.map((function(e){return Math.pow(e.quantity,2)})))+7*Math.min.apply(Math,Object(j.a)(e.map((function(e){return e.quantity}))))},Le=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return $(e.map((function(e){return 0===e.quantity?0:e.item.action(n)*e.quantity})))},Ke=function(e){return function(e){var n=e;return n.forEach((function(e,t){e.board&&e.board.forEach((function(a,i){var r=0;switch(i){case"military":case"civic":case"wonders":r=Le(a.cards);break;case"money":r=Math.floor(Le(a.cards)/3);break;case"science":r=ze(a.cards);break;case"commerce":case"guild":r=Le(a.cards,{players:n,index:t})}e.board.set(i,Object.assign(a,{points:r}))}))})),n}(e)};function We(){var e,n=[new C("steven"),new C("charlotte")],t=Object(Ve.a)(n),i=Object(b.a)(t,2),r=i[0],c=i[1],o=c.set,s=c.push,u=c.updateAt,d=c.removeAt,f=function(e){var n=Object(a.useState)({open:e}),t=Object(b.a)(n,2),i=t[0],r=t[1];return[i,{openModal:function(e){r(Object(Re.a)({open:!0},e))},closeModal:function(){r({open:!1})}}]}(!1),m=Object(b.a)(f,2),O=m[0],v=m[1],p=v.openModal,y=v.closeModal;Object(Fe.a)((function(){o(Ke(r.slice()))}),[r,O]);var g=function(e){return e.board?Object(j.a)(e.board.values()).reduce((function(e,n){return e+n.points}),0):0},k=function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(h.a.Item,{eventKey:"1",as:"button",onClick:function(){return p({index:e})},children:"Add/Edit Scoreboard"}),Object(x.jsx)(h.a.Divider,{}),Object(x.jsx)(h.a.Item,{eventKey:"2",as:"button",onClick:function(){return d(e)},children:"Delete Player"})]})};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"m-3",children:"7-Wonders"}),Object(x.jsxs)(l.a,{children:[Object(x.jsx)(Te,{onDragEnd:function(e){e.destination&&o(function(e,n,t){var a=Array.from(e),i=a.splice(n,1),r=Object(b.a)(i,1)[0];return a.splice(t,0,r),a}(r.slice(),e.source.index,e.destination.index))},children:r.map((function(e,n){return Object(x.jsx)(Te.Drag,{name:e.name,index:n,children:Object(x.jsx)(w,{name:e.name,points:g(e),menu:k(n),children:e.board&&Object(x.jsx)(_e,{board:e.board})},n)},n)}))}),Object(x.jsx)(M,{onClick:function(){var e=prompt("Please enter player name");e&&s(new C(e))}})]}),O.open&&Object(x.jsx)(Pe,{show:O.open,handleClose:y,handleSave:function(e){var n=O.index,t=r[n];t.board=e,u(n,t),y()},board:null===(e=r[O.index])||void 0===e?void 0:e.board})]})}var Je=[{path:"/",exact:!0,name:"Home!",main:function(){return Object(x.jsx)("h2",{children:"Home"})}},{path:"/sevenwonders",name:"7 Wonders",main:function(){return Object(x.jsx)(We,{})}},{path:"/shoelaces",name:"Shoelaces!",main:function(){return Object(x.jsx)("h2",{children:"Shoelaces"})}}];function Ue(){return Object(x.jsx)(u.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(x.jsxs)(l.a,{children:[Object(x.jsx)(u.a.Brand,{children:"Game Scores"}),Object(x.jsx)(u.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(x.jsx)(u.a.Collapse,{id:"responsive-navbar-nav",children:Object(x.jsx)(d.a,{className:"me-auto",children:Je.map((function(e,n){return Object(x.jsx)(d.a.Link,{as:o.b,to:e.path,href:e.path,children:e.name},n)}))})})]})})}function Xe(){return Object(x.jsxs)(o.a,{children:[Object(x.jsx)(Ue,{}),Object(x.jsx)(s.c,{children:Je.map((function(e,n){return Object(x.jsx)(s.a,{path:e.path,exact:e.exact,children:Object(x.jsx)(e.main,{})},n)}))})]})}c.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(Xe,{})}),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.5b1e0ec6.chunk.js.map