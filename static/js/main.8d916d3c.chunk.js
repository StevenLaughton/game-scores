(this["webpackJsonpgame-scores"]=this["webpackJsonpgame-scores"]||[]).push([[0],{79:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(21),r=n.n(i),s=(n(79),n(53)),o=n(10),u=n(99),l=n(94),d=n(101),j=n(7),b=n(8),h=n(31),O=n(36),m=n(93),f=n(95),p=n(96),y=n(71),x=n(29),v=n(20),k=n(100),w=n(46),g=n(34),q=n(67),C=n(1);function S(e){var t=e.player,n=Object(a.useState)(0),c=Object(v.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)(!0),o=Object(v.a)(s,2),u=o[0],l=o[1];return Object(a.useEffect)((function(){t.board&&r(Object(x.a)(t.board.values()).reduce((function(e,t){return e+t.points}),0))})),Object(C.jsxs)(k.a,{bg:"light",border:"light",className:"app-card",children:[Object(C.jsx)(k.a.Header,{children:Object(C.jsxs)("div",{className:"d-flex align-items-center",children:[Object(C.jsx)(g.a,{icon:q.faUserCircle,className:"mx-1",onClick:function(){return l(!u)}}),Object(C.jsx)("span",{children:t.name}),Object(C.jsx)("div",{className:"mx-1",children:null===e||void 0===e?void 0:e.slotLeft}),Object(C.jsx)("div",{className:"flex-grow-1"}),Object(C.jsx)("div",{className:"mx-1",children:null===e||void 0===e?void 0:e.slotRight})]})}),Object(C.jsx)(w.a,{in:u,children:Object(C.jsx)(k.a.Body,{children:e.children})}),Object(C.jsxs)(k.a.Footer,{className:"text-muted text-end mx-2",children:["Total: ",i]})]})}var N=n(68);function P(e){return Object(C.jsx)(k.a,{onClick:e.onClick,bg:"secondary",border:"secondary",className:"text-center app-card",children:Object(C.jsx)(k.a.Body,{children:Object(C.jsx)(g.a,{icon:N.a,size:"4x"})})})}var M=n(61),B=n.n(M),_=n(91),H=n(98),I=n(92);function E(e){var t=function(e){return Object(C.jsxs)(_.a,{responsive:!0,striped:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Card"}),Object(C.jsx)("th",{children:"Quantity"})]})}),Object(C.jsx)("tbody",{children:e.board.get(e.index).cards.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:e.item.name}),Object(C.jsx)("td",{children:e.quantity})]},t)}))})]})};return Object(C.jsx)(H.a,{children:Object(x.a)(e.board.keys()).map((function(n,a){return Object(C.jsxs)(H.a.Item,{eventKey:a,children:[Object(C.jsxs)(H.a.Header,{children:[Object(C.jsxs)(I.a,{bg:"success",className:"mx-2",pill:!0,children:[" ",e.board.get(n).points]}),n]}),Object(C.jsx)(H.a.Body,{children:Object(C.jsx)(t,{index:n,board:e.board})})]},a)}))})}var L=function e(t){Object(j.a)(this,e),this.name=t},T=n(69),A=n(74),W={cog:"Cog",compass:"Compass",tablet:"Tablet"},z=function(e){return e.reduce((function(e,t){return e+t}),0)},F=function(e){var t=new K(e,(function(e){return e.item.type}));return z(Object.values(W).map((function(e){return Math.pow(t.get(e),2)})))+7*Math.min.apply(Math,Object(x.a)(e.map((function(e){return e.quantity}))))},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return z(e.map((function(e){return e.item.action(t)*e.quantity})))},J=function(e){return function(e){var t=e;return t.forEach((function(e,n){e.board&&e.board.forEach((function(a,c){var i=0;switch(c){case"military":case"civic":i=G(a.cards);break;case"money":i=Math.floor(G(a.cards)/3);break;case"science":i=F(a.cards);break;case"commerce":i=G(a.cards,{players:t,index:n})}e.board.set(c,{points:i,cards:a.cards})}))})),t}(e)},K=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(e){var a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(j.a)(this,n),(a=t.call(this)).key=c||function(e){return e};var i,r=Object(T.a)(e);try{for(r.s();!(i=r.n()).done;){var s=i.value;a.add(s,s.quantity)}}catch(o){r.e(o)}finally{r.f()}return a}return Object(b.a)(n,[{key:"add",value:function(e,t){e=this.key(e),this.set(e,((this.get(e)||0)+1)*t)}}]),n}(Object(A.a)(Map)),R=n(72),U=n(97),V=n(102),$=function(){function e(){Object(j.a)(this,e),this.name="Silver"}return Object(b.a)(e,[{key:"action",value:function(){return 1}}]),e}(),Q=function(){function e(){Object(j.a)(this,e),this.name="Gold"}return Object(b.a)(e,[{key:"action",value:function(){return 3}}]),e}(),X=function(){function e(){Object(j.a)(this,e),this.name="Battle Wins"}return Object(b.a)(e,[{key:"action",value:function(){return 1}}]),e}(),Y=function(){function e(){Object(j.a)(this,e),this.name="Battle Losses"}return Object(b.a)(e,[{key:"action",value:function(){return-1}}]),e}(),D=function(){function e(){Object(j.a)(this,e),this.name="Phase 1"}return Object(b.a)(e,[{key:"action",value:function(){return 1}}]),e}(),Z=function(){function e(){Object(j.a)(this,e),this.name="Phase 2"}return Object(b.a)(e,[{key:"action",value:function(){return 1}}]),e}(),ee=function(){function e(){Object(j.a)(this,e),this.name="Phase 3"}return Object(b.a)(e,[{key:"action",value:function(){return 1}}]),e}(),te=function(){function e(){Object(j.a)(this,e),this.name="Pawnshop"}return Object(b.a)(e,[{key:"action",value:function(){return 3}}]),e}(),ne=function(){function e(){Object(j.a)(this,e),this.name="Pawnshop"}return Object(b.a)(e,[{key:"action",value:function(){return 3}}]),e}(),ae=function(){function e(){Object(j.a)(this,e),this.name="Altar"}return Object(b.a)(e,[{key:"action",value:function(){return 2}}]),e}(),ce=function(){function e(){Object(j.a)(this,e),this.name="Theater"}return Object(b.a)(e,[{key:"action",value:function(){return 2}}]),e}(),ie=function(){function e(){Object(j.a)(this,e),this.name="Scriptorium",this.type=W.tablet}return Object(b.a)(e,[{key:"action",value:function(){return 1}}]),e}(),re=function(){function e(){Object(j.a)(this,e),this.name="Workshop",this.type=W.cog}return Object(b.a)(e,[{key:"action",value:function(){return 1}}]),e}(),se=function(){function e(){Object(j.a)(this,e),this.name="Apothecary",this.type=W.compass}return Object(b.a)(e,[{key:"action",value:function(){return 1}}]),e}(),oe=function(){function e(){Object(j.a)(this,e),this.name="Marketplace"}return Object(b.a)(e,[{key:"action",value:function(){return 0}}]),e}(),ue=function(){function e(){Object(j.a)(this,e),this.name="Vineyard"}return Object(b.a)(e,[{key:"action",value:function(){return 0}}]),e}(),le=function e(){Object(j.a)(this,e),this.name="Lumber Yard",this.action=function(){throw new Error("material cards do not play an action")}},de=function(){return function(){var e=new Map;return e.set("military",{points:0,cards:[{item:new X,quantity:0},{item:new Y,quantity:0}]}),e.set("money",{points:0,cards:[{item:new $,quantity:0},{item:new Q,quantity:0}]}),e.set("wonders",{points:0,cards:[{item:new D,quantity:0},{item:new Z,quantity:0},{item:new ee,quantity:0}]}),e.set("civic",{points:0,cards:[{item:new te,quantity:0},{item:new ne,quantity:0},{item:new ae,quantity:0},{item:new ce,quantity:0}]}),e.set("science",{points:0,cards:[{item:new ie,quantity:0},{item:new re,quantity:0},{item:new se,quantity:0}]}),e.set("commerce",{points:0,cards:[{item:new ue,quantity:0},{item:new oe,quantity:0}]}),e.set("material",{points:0,cards:[{item:new le,quantity:0}]}),e}()};function je(e){var t,n,c=null!==(t=null===e||void 0===e?void 0:e.min)&&void 0!==t?t:0,i=null!==(n=null===e||void 0===e?void 0:e.max)&&void 0!==n?n:Number.MAX_VALUE,r=Object(a.useState)(e.value),s=Object(v.a)(r,2),o=s[0],u=s[1],l=function(t){e.onChange(t),u(t)};return Object(C.jsxs)("div",{className:"quantity-input",children:[Object(C.jsx)("button",{className:"quantity-input__modifier quantity-input__modifier--left",type:"button",onClick:function(){o>c&&l(o-1)},children:"\u2014"}),Object(C.jsx)("input",{className:"quantity-input__screen",type:"text",value:o,readOnly:!0}),Object(C.jsx)("button",{className:"quantity-input__modifier quantity-input__modifier--right",type:"button",onClick:function(){o<i&&l(o+1)},children:"\uff0b"})]})}function be(e){var t,n=Object(a.useState)(null!==(t=e.board)&&void 0!==t?t:de()),c=Object(v.a)(n,2),i=c[0],r=c[1];return Object(C.jsxs)(U.a,{show:e.show,onHide:e.handleClose,children:[Object(C.jsx)(U.a.Header,{closeButton:!0,children:Object(C.jsx)(U.a.Title,{children:"Board Builder"})}),Object(C.jsx)(U.a.Body,{children:Object(C.jsx)(H.a,{children:Object(x.a)(i.keys()).map((function(e,t){return Object(C.jsxs)(H.a.Item,{eventKey:t,children:[Object(C.jsx)(H.a.Header,{children:e}),Object(C.jsx)(H.a.Body,{children:Object(C.jsx)(V.a,{variant:"flush",children:i.get(e).cards.map((function(t,n){return Object(C.jsxs)(V.a.Item,{className:"position-relative py-3",children:[Object(C.jsx)("div",{className:"position-absolute top-50 start-0 translate-middle-y",children:t.item.name}),Object(C.jsx)("div",{className:"position-absolute top-50 end-0 translate-middle-y",children:Object(C.jsx)(je,{value:t.quantity,min:0,onChange:function(t){return function(e,t,n){var a=i.get(t);a.cards[n].quantity=e,r((function(e){return new Map(e).set(t,a)}))}(t,e,n)}})})]},n)}))})})]},t)}))})}),Object(C.jsx)(U.a.Footer,{children:Object(C.jsx)(m.a,{variant:"primary",onClick:function(){return e.handleSave(i)},children:"Save Changes"})})]})}var he=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).addPlayer=function(){var e=prompt("Please enter player name");e&&a.setState((function(t){return{players:B()(t.players,{$push:[new L(e)]})}}))},a.updatePlayer=function(e,t){var n=a.state.players.slice();n[t]=e,a.setState({players:n})},a.removePlayer=function(e){a.setState((function(t){return B()(t,{players:{$splice:[[e,1]]}})}))},a.calculateScores=function(){var e=J(a.state.players.slice());a.setState({players:e})},a.openModal=function(e,t){a.setState({modalOpen:!0,modalPlayer:e,playerIndex:t})},a.closeModal=function(){a.setState({modalOpen:!1,modalPlayer:null})},a.saveModal=function(e){var t=a.state.playerIndex,n=a.state.players[t];n.board=e,a.updatePlayer(n,t),a.closeModal()},a.state={players:[new L("steven"),new L("charlotte")],modalOpen:!1,modalPlayer:null,playerIndex:null},a}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{children:[Object(C.jsx)("h1",{className:"m-3",children:"7-Wonders"}),Object(C.jsxs)(l.a,{children:[Object(C.jsx)("div",{className:"d-grid gap-2",children:Object(C.jsx)(m.a,{variant:"primary",size:"lg",onClick:function(){return e.calculateScores()},children:"Calculate"})}),Object(C.jsxs)(f.a,{children:[this.state.players.map((function(t,n){return Object(C.jsx)(p.a,{xs:12,sm:6,children:Object(C.jsx)(S,{player:t,index:n,slotLeft:Object(C.jsx)(g.a,{icon:R.faPlus,onClick:function(){return e.openModal(t,n)}}),slotRight:Object(C.jsx)(y.a,{onClick:function(){return e.removePlayer(n)}}),updateHandler:e.updatePlayer.bind(e),children:t.board&&Object(C.jsx)(E,{board:t.board})})},n)})),Object(C.jsx)(p.a,{xs:12,md:6,children:Object(C.jsx)(P,{onClick:this.addPlayer})})]})]}),this.state.modalPlayer&&Object(C.jsx)(be,{show:this.state.modalOpen,handleClose:this.closeModal,handleSave:this.saveModal,board:this.state.modalPlayer.board})]})}}]),n}(c.a.Component),Oe=[{path:"/",exact:!0,name:"Home!",main:function(){return Object(C.jsx)("h2",{children:"Home"})}},{path:"/sevenwonders",name:"7 Wonders",main:function(){return Object(C.jsx)(he,{})}},{path:"/shoelaces",name:"Shoelaces!",main:function(){return Object(C.jsx)("h2",{children:"Shoelaces"})}}];function me(){return Object(C.jsx)(u.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(C.jsxs)(l.a,{children:[Object(C.jsx)(u.a.Brand,{children:"Game Scores"}),Object(C.jsx)(u.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(C.jsx)(u.a.Collapse,{id:"responsive-navbar-nav",children:Object(C.jsx)(d.a,{className:"me-auto",children:Oe.map((function(e,t){return Object(C.jsx)(d.a.Link,{as:s.b,to:e.path,href:e.path,children:e.name},t)}))})})]})})}function fe(){return Object(C.jsxs)(s.a,{children:[Object(C.jsx)(me,{}),Object(C.jsx)(o.c,{children:Oe.map((function(e,t){return Object(C.jsx)(o.a,{path:e.path,exact:e.exact,children:Object(C.jsx)(e.main,{})},t)}))})]})}r.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(fe,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.8d916d3c.chunk.js.map