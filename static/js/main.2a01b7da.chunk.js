(this["webpackJsonpgame-scores"]=this["webpackJsonpgame-scores"]||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(18),c=n.n(r),s=(n(88),n(67)),o=n(15),u=n(121),l=n(116),d=n(124),j=n(35),b=n(8),h=n(13),f=n(52),m=n(23),O=n(22),y=n(16),p=n(2),v=n(117),x=n(123),w=n(62),g=n(53),q=n(61),k=n(1);function S(e){var t=Object(a.useState)(!0),n=Object(y.a)(t,2),i=n[0],r=n[1];return Object(k.jsxs)(x.a,{bg:"light",border:"light",children:[Object(k.jsx)(x.a.Header,{children:Object(k.jsxs)("div",{className:"d-flex align-items-center",children:[Object(k.jsxs)(v.a,{className:"mx-1",children:[Object(k.jsx)(v.a.Toggle,{size:"sm"}),Object(k.jsx)(v.a.Menu,{children:e.menu})]}),Object(k.jsx)("span",{children:e.name}),Object(k.jsx)("div",{className:"flex-grow-1"}),Object(k.jsx)("div",{className:i?"isRotated":"",children:Object(k.jsx)(g.a,{icon:q.a,className:"mx-1",onClick:function(){return r(!i)}})})]})}),Object(k.jsx)(w.a,{in:i,children:Object(k.jsx)(x.a.Body,{className:"p-0",children:e.children})}),Object(k.jsx)(x.a.Footer,{className:"text-muted text-end",children:Object(k.jsxs)("span",{className:"mx-2",children:["Total: ",e.points]})})]})}var M=n(75),C=n.n(M),N=function(){function e(){if(Object(b.a)(this,e),this.constructor===e)throw new Error("Abstract classes can't be instantiated.")}return Object(h.a)(e,[{key:"action",value:function(){throw new Error("Method must be implemented.")}}]),e}(),P=function e(t){Object(b.a)(this,e),this.name=t},E=function(e){return e.reduce((function(e,t){return e+t}),0)},A=function(e,t){return e.length===t+1?e[0]:e[t+1]},G=function(e,t){return 0===t?e[e.length-1]:e[t-1]},B=function(e){return E(e.map((function(e){return Math.pow(e.quantity,2)})))+7*Math.min.apply(Math,Object(j.a)(e.map((function(e){return e.quantity}))))},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return E(e.map((function(e){return 0===e.quantity?0:e.item.action(t)*e.quantity})))},H=function(e){return function(e){var t=e;return t.forEach((function(e,n){e.board&&e.board.forEach((function(a,i){var r=0;switch(i){case"military":case"civic":case"wonders":r=I(a.cards);break;case"money":r=Math.floor(I(a.cards)/3);break;case"science":r=B(a.cards);break;case"commerce":case"guild":r=I(a.cards,{players:t,index:n})}e.board.set(i,Object.assign(a,{points:r}))}))})),t}(e)};function _(e){return Object(k.jsx)(x.a,{onClick:e.onClick,bg:"secondary",border:"secondary",className:"text-center app-card",children:Object(k.jsx)(x.a.Body,{children:Object(k.jsx)(g.a,{icon:q.b,size:"4x"})})})}var R=n(119),D=n(118),T=n(120),V=n(125),F=n(81),z=function(){function e(){Object(b.a)(this,e),this.name="Silver"}return Object(h.a)(e,[{key:"action",value:function(){return 1}}]),e}(),L=function(){function e(){Object(b.a)(this,e),this.name="Gold"}return Object(h.a)(e,[{key:"action",value:function(){return 3}}]),e}();var K=function(){function e(){Object(b.a)(this,e),this.name="Battle Wins"}return Object(h.a)(e,[{key:"action",value:function(){return 1}}]),e}(),W=function(){function e(){Object(b.a)(this,e),this.name="Battle Losses"}return Object(h.a)(e,[{key:"action",value:function(){return-1}}]),e}();var J=function e(t,n){Object(b.a)(this,e),this.name="".concat(t," Phase One"),this.action=function(){return n}};function $(e,t){var n;return n=t===U.Giza?[3,5,7]:[3,0,7],{points:0,option:null!==t&&void 0!==t?t:U.Rhodes,cards:n.map((function(e){return{item:new J(t,e),quantity:0}}))}}var U={Rhodes:"Rhodes",Alexandria:"Alexandria",Ephesus:"Ephesus",Babylon:"Babylon",Olympia:"Olympia",Halicarnassus:"Halicarnassus",Giza:"Giza"},X=function(){function e(){Object(b.a)(this,e),this.name="Two Victory Points"}return Object(h.a)(e,[{key:"action",value:function(){return 2}}]),e}(),Q=function(){function e(){Object(b.a)(this,e),this.name="Three Victory Points"}return Object(h.a)(e,[{key:"action",value:function(){return 3}}]),e}(),Y=function(){function e(){Object(b.a)(this,e),this.name="Four Victory Points"}return Object(h.a)(e,[{key:"action",value:function(){return 4}}]),e}(),Z=function(){function e(){Object(b.a)(this,e),this.name="Five Victory Points"}return Object(h.a)(e,[{key:"action",value:function(){return 5}}]),e}(),ee=function(){function e(){Object(b.a)(this,e),this.name="Six Victory Points"}return Object(h.a)(e,[{key:"action",value:function(){return 6}}]),e}(),te=function(){function e(){Object(b.a)(this,e),this.name="Seven Victory Points"}return Object(h.a)(e,[{key:"action",value:function(){return 7}}]),e}(),ne=function(){function e(){Object(b.a)(this,e),this.name="Eight Victory Points"}return Object(h.a)(e,[{key:"action",value:function(){return 8}}]),e}();var ae=function(){function e(){Object(b.a)(this,e),this.name="Tablet"}return Object(h.a)(e,[{key:"action",value:function(){return 1}}]),e}(),ie=function(){function e(){Object(b.a)(this,e),this.name="Cog"}return Object(h.a)(e,[{key:"action",value:function(){return 1}}]),e}(),re=function(){function e(){Object(b.a)(this,e),this.name="Compass"}return Object(h.a)(e,[{key:"action",value:function(){return 1}}]),e}();var ce=function(e,t){var n,a=0;return null===(n=e.board)||void 0===n||n.get("misc").cards.forEach((function(e){e.item.name===t&&(a=e.quantity)})),a},se=function(e){return ce(e,"Raw Materials")},oe=function(e){return ce(e,"Manufactured Goods")},ue=function(e){return ce(e,"Military Structures")},le=function(e){var t,n,a;return null!==(t=null===(n=e.board)||void 0===n||null===(a=n.get("military").cards.filter((function(e){return"Battle Losses"===e.item.name&&e.quantity>0})))||void 0===a?void 0:a.length)&&void 0!==t?t:0},de=function(e,t){var n,a;return E(null!==(n=null===(a=e.board)||void 0===a?void 0:a.get(t).cards.map((function(e){return e.quantity})))&&void 0!==n?n:[0])},je=function e(){Object(b.a)(this,e),this.name="Haven",this.action=function(e){return se(e.players[e.index])}},be=function e(){Object(b.a)(this,e),this.name="Lighthouse",this.action=function(e){return de(e.players[e.index],"commerce")}},he=function e(){Object(b.a)(this,e),this.name="Chamber Of Commerce",this.action=function(e){return 2*oe(e.players[e.index])}},fe=function e(){Object(b.a)(this,e),this.name="Other",this.action=function(){return 0}};var me="misc cards do not play an action",Oe=function e(){Object(b.a)(this,e),this.name="Raw Materials",this.action=function(){throw new Error(me)}},ye=function e(){Object(b.a)(this,e),this.name="Manufactured Goods",this.action=function(){throw new Error(me)}},pe=function e(){Object(b.a)(this,e),this.name="Military Structures",this.action=function(){throw new Error(me)}};var ve=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).name="Workers Guild",e.action=function(e){return se(G(e.players,e.index))+se(A(e.players,e.index))},e}return n}(N),xe=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).name="Craftsmens Guild",e.action=function(e){return 2*oe(G(e.players,e.index))+2*oe(A(e.players,e.index))},e}return n}(N),we=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).name="Traders Guild",e.action=function(e){return de(G(e.players,e.index),"commerce")+de(A(e.players,e.index),"commerce")},e}return n}(N),ge=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).name="Philosophers Guild",e.action=function(e){return de(G(e.players,e.index),"science")+de(A(e.players,e.index),"science")},e}return n}(N),qe=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).name="Spies Guild",e.action=function(e){return ue(G(e.players,e.index))+ue(A(e.players,e.index))},e}return n}(N),ke=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).name="Strategists Guild",e.action=function(e){return le(G(e.players,e.index))+le(A(e.players,e.index))},e}return n}(N),Se=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).name="Shipowners Guild",e.action=function(e){return se(e.players[e.index])+oe(e.players[e.index])+de(e.players[e.index],"guild")},e}return n}(N),Me=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).name="Magistrates Guild",e.action=function(e){return de(G(e.players,e.index),"civic")+de(A(e.players,e.index),"civic")},e}return n}(N),Ce=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).name="Builders Guild",e.action=function(e){return de(G(e.players,e.index),"wonders")+de(e.players[e.index],"wonders")+de(A(e.players,e.index),"wonders")},e}return n}(N);var Ne=function(){var e,t,n=new Map;return e=n,t=U.Rhodes,e.set("wonders",$(0,t)),function(e){e.set("military",{points:0,cards:[{item:new K,quantity:0},{item:new W,quantity:0}]})}(n),function(e){e.set("money",{points:0,cards:[{item:new z,quantity:0},{item:new L,quantity:0}]})}(n),function(e){e.set("civic",{points:0,cards:[{item:new X,quantity:0},{item:new Q,quantity:0},{item:new Y,quantity:0},{item:new Z,quantity:0},{item:new ee,quantity:0},{item:new te,quantity:0},{item:new ne,quantity:0}]})}(n),function(e){e.set("science",{points:0,cards:[{item:new ae,quantity:0},{item:new ie,quantity:0},{item:new re,quantity:0}]})}(n),function(e){e.set("commerce",{points:0,cards:[{item:new je,quantity:0},{item:new be,quantity:0},{item:new he,quantity:0},{item:new fe,quantity:0}]})}(n),function(e){e.set("guild",{points:0,cards:[{item:new ve,quantity:0},{item:new xe,quantity:0},{item:new we,quantity:0},{item:new ge,quantity:0},{item:new qe,quantity:0},{item:new ke,quantity:0},{item:new Se,quantity:0},{item:new Me,quantity:0},{item:new Ce,quantity:0}]})}(n),function(e){e.set("misc",{points:0,cards:[{item:new Oe,quantity:0},{item:new ye,quantity:0},{item:new pe,quantity:0}]})}(n),n},Pe=function(){return Ne()},Ee=n(122);function Ae(e){var t,n,i=null!==(t=null===e||void 0===e?void 0:e.min)&&void 0!==t?t:0,r=null!==(n=null===e||void 0===e?void 0:e.max)&&void 0!==n?n:Number.MAX_VALUE,c=Object(Ee.a)(e.value,r,i),s=Object(y.a)(c,2),o=s[0],u=s[1],l=u.inc,d=u.dec;return Object(a.useEffect)((function(){e.onChange(o)}),[o]),Object(k.jsxs)("div",{className:"quantity-input",children:[Object(k.jsx)("button",{className:"quantity-input__modifier quantity-input__modifier--left",type:"button",onClick:function(){return d(1)},children:"\u2014"}),Object(k.jsx)("input",{className:"quantity-input__screen",type:"text",value:o,readOnly:!0}),Object(k.jsx)("button",{className:"quantity-input__modifier quantity-input__modifier--right",type:"button",onClick:function(){return l(1)},children:"\uff0b"})]})}var Ge=n(82);function Be(e){var t,n=function(e){var t=Object(a.useState)(new Map(e)),n=Object(y.a)(t,2),i=n[0],r=n[1];return[i,{set:function(e,t){r((function(n){var a=new Map(n);return a.set(e,t),a}))},unset:function(e){r((function(t){var n=new Map(t);return n.delete(e),n}))},clear:function(){r((function(e){var t=new Map(e);return t.clear(),t}))}}]}(null!==(t=e.board)&&void 0!==t?t:Pe()),i=Object(y.a)(n,2),r=i[0],c=i[1].set,s=function(e,t,n){var a=r.get(t);a.cards[n].quantity=e,c(t,a)},o=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ge.a,{options:Object.entries(U).map((function(e){return{value:e[0],label:e[1]}})),value:{label:r.get("wonders").option},isSearchable:!1,onChange:function(e){return c("wonders",$(0,e.value))}}),Object(k.jsx)("div",{className:"my-2",children:null===r||void 0===r?void 0:r.get("wonders").cards.map((function(e,t){return Object(k.jsx)(R.a.Check,{inline:!0,label:"Phase ".concat(t+1),checked:1===e.quantity,onChange:function(e){return s(+e.target.checked,"wonders",t)},type:"checkbox"},t)}))})]})};return Object(k.jsxs)(D.a,{show:e.show,onHide:e.handleClose,children:[Object(k.jsx)(D.a.Header,{closeButton:!0,children:Object(k.jsx)(D.a.Title,{children:"Scoreboard Builder"})}),Object(k.jsx)(D.a.Body,{className:"p-0",children:Object(k.jsx)(T.a,{children:Object(j.a)(r.keys()).map((function(e,t){return Object(k.jsxs)(T.a.Item,{eventKey:t,children:[Object(k.jsx)(T.a.Header,{children:e}),Object(k.jsx)(T.a.Body,{children:Object(k.jsx)(V.a,{variant:"flush",children:"wonders"===e?Object(k.jsx)(o,{}):null===r||void 0===r?void 0:r.get(e).cards.map((function(t,n){return Object(k.jsxs)(V.a.Item,{className:"d-flex",children:[t.item.name,Object(k.jsx)("div",{className:"flex-grow-1"}),Object(k.jsx)(Ae,{value:t.quantity,onChange:function(t){return s(t,e,n)}})]},n)}))})})]},t)}))})}),Object(k.jsx)(D.a.Footer,{children:Object(k.jsx)(F.a,{variant:"primary",onClick:function(){return e.handleSave(r)},children:"Save Changes"})})]})}var Ie=n(115);function He(e){return Object(k.jsx)(T.a,{children:Object(j.a)(e.board.keys()).map((function(t,n){return Object(k.jsxs)(T.a.Item,{eventKey:n,children:[Object(k.jsxs)(T.a.Header,{children:[Object(k.jsxs)(Ie.a,{bg:"success",className:"mx-2",pill:!0,children:[" ",e.board.get(t).points]}),t]}),Object(k.jsx)(T.a.Body,{children:Object(k.jsx)(V.a,{variant:"flush",children:e.board.get(t).cards.map((function(e,t){return Object(k.jsxs)(V.a.Item,{className:"d-flex",children:[e.item.name,Object(k.jsx)("div",{className:"flex-grow-1"}),Object(k.jsx)("span",{children:e.quantity})]},t)}))})})]},n)}))})}var _e=n(71),Re=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).addPlayer=function(){var e=prompt("Please enter player name");e&&a.setState((function(t){return{players:C()(t.players,{$push:[new P(e)]})}}))},a.updatePlayer=function(e,t){var n=a.state.players.slice();n[t]=e,a.setState({players:n},(function(){return a.calculateScores()}))},a.removePlayer=function(e){a.setState((function(t){return C()(t,{players:{$splice:[[e,1]]}})}))},a.calculateScores=function(){a.setState({players:H(a.state.players.slice())})},a.openModal=function(e){a.setState({modalOpen:!0,modalIndex:e})},a.closeModal=function(){a.setState({modalOpen:!1,modalIndex:null})},a.saveModal=function(e){var t=a.state.modalIndex,n=a.state.players[t];n.board=e,a.updatePlayer(n,t),a.closeModal()},a.getPoints=function(e){return e.board?Object(j.a)(e.board.values()).reduce((function(e,t){return e+t.points}),0):0},a.dropdownMenu=function(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(v.a.Item,{eventKey:"1",as:"button",onClick:function(){return a.openModal(e)},children:"Add/Edit Scoreboard"}),Object(k.jsx)(v.a.Divider,{}),Object(k.jsx)(v.a.Item,{eventKey:"2",as:"button",onClick:function(){return a.removePlayer(e)},children:"Delete Player"})]})},a.state={players:[new P("steven"),new P("charlotte")],modalOpen:!1,modalIndex:null},a.onDragEnd=a.onDragEnd.bind(Object(f.a)(a)),a}return Object(h.a)(n,[{key:"onDragEnd",value:function(e){if(e.destination){var t=function(e,t,n){var a=Array.from(e),i=a.splice(t,1),r=Object(y.a)(i,1)[0];return a.splice(n,0,r),a}(this.state.players,e.source.index,e.destination.index);this.setState({players:t})}}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{className:"m-3",children:"7-Wonders"}),Object(k.jsxs)(l.a,{children:[Object(k.jsx)(_e.a,{onDragEnd:this.onDragEnd,children:Object(k.jsx)(_e.c,{droppableId:"droppable",children:function(t){return Object(k.jsxs)("div",Object(p.a)(Object(p.a)({},t.droppableProps),{},{ref:t.innerRef,children:[e.state.players.map((function(t,n){return Object(k.jsx)(_e.b,{draggableId:t.name,index:n,children:function(a,i){return Object(k.jsx)("div",Object(p.a)(Object(p.a)(Object(p.a)({ref:a.innerRef},a.draggableProps),a.dragHandleProps),{},{className:"mb-3",style:(i.isDragging,r=a.draggableProps.style,Object(p.a)({userSelect:"none"},r)),children:Object(k.jsx)(S,{name:t.name,points:e.getPoints(t),menu:e.dropdownMenu(n),children:t.board&&Object(k.jsx)(He,{board:t.board})})}));var r}},t.name)})),t.placeholder]}))}})}),Object(k.jsx)(_,{onClick:this.addPlayer})]}),null!==this.state.modalIndex&&Object(k.jsx)(Be,{show:this.state.modalOpen,handleClose:this.closeModal,handleSave:this.saveModal.bind(this),board:this.state.players[this.state.modalIndex].board})]})}}]),n}(i.a.Component),De=[{path:"/",exact:!0,name:"Home!",main:function(){return Object(k.jsx)("h2",{children:"Home"})}},{path:"/sevenwonders",name:"7 Wonders",main:function(){return Object(k.jsx)(Re,{})}},{path:"/shoelaces",name:"Shoelaces!",main:function(){return Object(k.jsx)("h2",{children:"Shoelaces"})}}];function Te(){return Object(k.jsx)(u.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(k.jsxs)(l.a,{children:[Object(k.jsx)(u.a.Brand,{children:"Game Scores"}),Object(k.jsx)(u.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(k.jsx)(u.a.Collapse,{id:"responsive-navbar-nav",children:Object(k.jsx)(d.a,{className:"me-auto",children:De.map((function(e,t){return Object(k.jsx)(d.a.Link,{as:s.b,to:e.path,href:e.path,children:e.name},t)}))})})]})})}function Ve(){return Object(k.jsxs)(s.a,{children:[Object(k.jsx)(Te,{}),Object(k.jsx)(o.c,{children:De.map((function(e,t){return Object(k.jsx)(o.a,{path:e.path,exact:e.exact,children:Object(k.jsx)(e.main,{})},t)}))})]})}c.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(Ve,{})}),document.getElementById("root"))},88:function(e,t,n){}},[[109,1,2]]]);
//# sourceMappingURL=main.2a01b7da.chunk.js.map