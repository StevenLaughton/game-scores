(this["webpackJsonpgame-scores"]=this["webpackJsonpgame-scores"]||[]).push([[0],{106:function(e,n,t){},127:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(18),c=t.n(i),s=(t(106),t(79)),o=t(17),u=t(158),l=t(152),d=t(161),j=t(43),b=t(8),h=t(15),f=t(62),m=t(28),O=t(27),y=t(153),p=t(20),v=t(160),x=t(72),w=t(63),g=t(71),k=t(1);function q(e){var n=Object(a.useState)(!1),t=Object(p.a)(n,2),r=t[0],i=t[1];return Object(k.jsxs)(v.a,{bg:"light",border:"light",children:[Object(k.jsx)(v.a.Header,{children:Object(k.jsxs)("div",{className:"d-flex align-items-center",children:[Object(k.jsxs)(y.a,{className:"mx-1",children:[Object(k.jsx)(y.a.Toggle,{size:"sm"}),Object(k.jsx)(y.a.Menu,{children:e.menu})]}),Object(k.jsx)("span",{children:e.name}),Object(k.jsx)("div",{className:"flex-grow-1"}),Object(k.jsx)("div",{className:r?"isRotated":"",children:Object(k.jsx)(w.a,{icon:g.a,className:"mx-1",onClick:function(){return i(!r)}})})]})}),Object(k.jsx)(x.a,{in:r,children:Object(k.jsx)(v.a.Body,{className:"p-0",children:e.children})}),Object(k.jsx)(v.a.Footer,{className:"text-muted text-end",children:Object(k.jsxs)("span",{className:"mx-2",children:["Total: ",e.points]})})]})}var S=t(87),M=t.n(S),C=function(){function e(){if(Object(b.a)(this,e),this.constructor===e)throw new Error("Abstract classes can't be instantiated.")}return Object(h.a)(e,[{key:"action",value:function(){throw new Error("Method must be implemented.")}}]),e}(),N=function e(n){Object(b.a)(this,e),this.name=n},P=function(e){return e.reduce((function(e,n){return e+n}),0)},A=function(e,n){return e.length===n+1?e[0]:e[n+1]},E=function(e,n){return 0===n?e[e.length-1]:e[n-1]},B=function(e){return P(e.map((function(e){return Math.pow(e.quantity,2)})))+7*Math.min.apply(Math,Object(j.a)(e.map((function(e){return e.quantity}))))},G=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return P(e.map((function(e){return 0===e.quantity?0:e.item.action(n)*e.quantity})))},I=function(e){return function(e){var n=e;return n.forEach((function(e,t){e.board&&e.board.forEach((function(a,r){var i=0;switch(r){case"military":case"civic":case"wonders":i=G(a.cards);break;case"money":i=Math.floor(G(a.cards)/3);break;case"science":i=B(a.cards);break;case"commerce":case"guild":i=G(a.cards,{players:n,index:t})}e.board.set(r,Object.assign(a,{points:i}))}))})),n}(e)};function D(e){return Object(k.jsx)(v.a,{onClick:e.onClick,bg:"secondary",border:"secondary",className:"text-center app-card",children:Object(k.jsx)(v.a.Body,{children:Object(k.jsx)(w.a,{icon:g.b,size:"4x"})})})}var H=t(150),_=t(156),R=t(154),T=t(157),V=t(162),F=t(93),z=function(){function e(){Object(b.a)(this,e),this.name="Silver"}return Object(h.a)(e,[{key:"action",value:function(){return 1}}]),e}(),L=function(){function e(){Object(b.a)(this,e),this.name="Gold"}return Object(h.a)(e,[{key:"action",value:function(){return 3}}]),e}();var K=function(){function e(){Object(b.a)(this,e),this.name="Battle Wins"}return Object(h.a)(e,[{key:"action",value:function(){return 1}}]),e}(),W=function(){function e(){Object(b.a)(this,e),this.name="Battle Losses"}return Object(h.a)(e,[{key:"action",value:function(){return-1}}]),e}();var J=function e(n,t){Object(b.a)(this,e),this.name="".concat(n," Phase One"),this.action=function(){return t}};function $(e,n,t){var a,r,i,c=null===e||void 0===e?void 0:e.get("wonders"),s=null===(a=null!==t&&void 0!==t?t:null===c||void 0===c?void 0:c.sideA)||void 0===a||a,o=null!==(r=null!==n&&void 0!==n?n:null===c||void 0===c?void 0:c.option)&&void 0!==r?r:U.Rhodes;if(s)i=n===U.Giza?[3,5,7]:[3,0,7];else switch(o){case U.Rhodes:i=[3,4];break;case U.Alexandria:i=[0,0,7];break;case U.Ephesus:i=[2,3,5];break;case U.Babylon:i=[3,0,0];break;case U.Olympia:i=[0,5,0];break;case U.Halicarnassus:i=[2,1,0];break;case U.Giza:i=[3,5,5,7];break;default:i=[0,0,0]}return{points:0,option:o,sideA:s,cards:i.map((function(e){return{item:new J(n,e),quantity:0}}))}}var U={Rhodes:"Rhodes",Alexandria:"Alexandria",Ephesus:"Ephesus",Babylon:"Babylon",Olympia:"Olympia",Halicarnassus:"Halicarnassus",Giza:"Giza"},X=function(){function e(){Object(b.a)(this,e),this.name="Two Victory Points"}return Object(h.a)(e,[{key:"action",value:function(){return 2}}]),e}(),Q=function(){function e(){Object(b.a)(this,e),this.name="Three Victory Points"}return Object(h.a)(e,[{key:"action",value:function(){return 3}}]),e}(),Y=function(){function e(){Object(b.a)(this,e),this.name="Four Victory Points"}return Object(h.a)(e,[{key:"action",value:function(){return 4}}]),e}(),Z=function(){function e(){Object(b.a)(this,e),this.name="Five Victory Points"}return Object(h.a)(e,[{key:"action",value:function(){return 5}}]),e}(),ee=function(){function e(){Object(b.a)(this,e),this.name="Six Victory Points"}return Object(h.a)(e,[{key:"action",value:function(){return 6}}]),e}(),ne=function(){function e(){Object(b.a)(this,e),this.name="Seven Victory Points"}return Object(h.a)(e,[{key:"action",value:function(){return 7}}]),e}(),te=function(){function e(){Object(b.a)(this,e),this.name="Eight Victory Points"}return Object(h.a)(e,[{key:"action",value:function(){return 8}}]),e}();var ae=function(){function e(){Object(b.a)(this,e),this.name="Tablet"}return Object(h.a)(e,[{key:"action",value:function(){return 1}}]),e}(),re=function(){function e(){Object(b.a)(this,e),this.name="Cog"}return Object(h.a)(e,[{key:"action",value:function(){return 1}}]),e}(),ie=function(){function e(){Object(b.a)(this,e),this.name="Compass"}return Object(h.a)(e,[{key:"action",value:function(){return 1}}]),e}();var ce=function(e,n){var t,a=0;return null===(t=e.board)||void 0===t||t.get("misc").cards.forEach((function(e){e.item.name===n&&(a=e.quantity)})),a},se=function(e){return ce(e,"Raw Materials")},oe=function(e){return ce(e,"Manufactured Goods")},ue=function(e){return ce(e,"Military Structures")},le=function(e){var n,t,a;return null!==(n=null===(t=e.board)||void 0===t||null===(a=t.get("military").cards.filter((function(e){return"Battle Losses"===e.item.name&&e.quantity>0})))||void 0===a?void 0:a.length)&&void 0!==n?n:0},de=function(e,n){var t,a;return P(null!==(t=null===(a=e.board)||void 0===a?void 0:a.get(n).cards.map((function(e){return e.quantity})))&&void 0!==t?t:[0])},je=function e(){Object(b.a)(this,e),this.name="Haven",this.action=function(e){return se(e.players[e.index])}},be=function e(){Object(b.a)(this,e),this.name="Lighthouse",this.action=function(e){return de(e.players[e.index],"commerce")}},he=function e(){Object(b.a)(this,e),this.name="Chamber Of Commerce",this.action=function(e){return 2*oe(e.players[e.index])}},fe=function e(){Object(b.a)(this,e),this.name="Other",this.action=function(){return 0}};var me="misc cards do not play an action",Oe=function e(){Object(b.a)(this,e),this.name="Raw Materials",this.action=function(){throw new Error(me)}},ye=function e(){Object(b.a)(this,e),this.name="Manufactured Goods",this.action=function(){throw new Error(me)}},pe=function e(){Object(b.a)(this,e),this.name="Military Structures",this.action=function(){throw new Error(me)}};var ve=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(){var e;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).name="Workers Guild",e.action=function(e){return se(E(e.players,e.index))+se(A(e.players,e.index))},e}return t}(C),xe=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(){var e;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).name="Craftsmens Guild",e.action=function(e){return 2*oe(E(e.players,e.index))+2*oe(A(e.players,e.index))},e}return t}(C),we=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(){var e;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).name="Traders Guild",e.action=function(e){return de(E(e.players,e.index),"commerce")+de(A(e.players,e.index),"commerce")},e}return t}(C),ge=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(){var e;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).name="Philosophers Guild",e.action=function(e){return de(E(e.players,e.index),"science")+de(A(e.players,e.index),"science")},e}return t}(C),ke=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(){var e;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).name="Spies Guild",e.action=function(e){return ue(E(e.players,e.index))+ue(A(e.players,e.index))},e}return t}(C),qe=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(){var e;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).name="Strategists Guild",e.action=function(e){return le(E(e.players,e.index))+le(A(e.players,e.index))},e}return t}(C),Se=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(){var e;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).name="Shipowners Guild",e.action=function(e){return se(e.players[e.index])+oe(e.players[e.index])+de(e.players[e.index],"guild")},e}return t}(C),Me=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(){var e;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).name="Magistrates Guild",e.action=function(e){return de(E(e.players,e.index),"civic")+de(A(e.players,e.index),"civic")},e}return t}(C),Ce=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(){var e;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).name="Builders Guild",e.action=function(e){return de(E(e.players,e.index),"wonders")+de(e.players[e.index],"wonders")+de(A(e.players,e.index),"wonders")},e}return t}(C);var Ne=function(){var e=new Map;return e.set("wonders",$()),function(e){e.set("military",{points:0,cards:[{item:new K,quantity:0},{item:new W,quantity:0}]})}(e),function(e){e.set("money",{points:0,cards:[{item:new z,quantity:0},{item:new L,quantity:0}]})}(e),function(e){e.set("civic",{points:0,cards:[{item:new X,quantity:0},{item:new Q,quantity:0},{item:new Y,quantity:0},{item:new Z,quantity:0},{item:new ee,quantity:0},{item:new ne,quantity:0},{item:new te,quantity:0}]})}(e),function(e){e.set("science",{points:0,cards:[{item:new ae,quantity:0},{item:new re,quantity:0},{item:new ie,quantity:0}]})}(e),function(e){e.set("commerce",{points:0,cards:[{item:new je,quantity:0},{item:new be,quantity:0},{item:new he,quantity:0},{item:new fe,quantity:0}]})}(e),function(e){e.set("guild",{points:0,cards:[{item:new ve,quantity:0},{item:new xe,quantity:0},{item:new we,quantity:0},{item:new ge,quantity:0},{item:new ke,quantity:0},{item:new qe,quantity:0},{item:new Se,quantity:0},{item:new Me,quantity:0},{item:new Ce,quantity:0}]})}(e),function(e){e.set("misc",{points:0,cards:[{item:new Oe,quantity:0},{item:new ye,quantity:0},{item:new pe,quantity:0}]})}(e),e},Pe=function(){return Ne()},Ae=t(159);function Ee(e){var n=Number.MAX_VALUE,t=Object(Ae.a)(e.value,n,0),a=Object(p.a)(t,2),r=a[0],i=a[1],c=i.inc,s=i.dec;return Object(k.jsxs)("div",{className:"quantity-input",children:[Object(k.jsx)("button",{className:"quantity-input__modifier quantity-input__modifier--left",type:"button",onClick:function(){s(1),e.onChange(r)},children:"\u2014"}),Object(k.jsx)("input",{className:"quantity-input__screen",type:"text",value:r,readOnly:!0}),Object(k.jsx)("button",{className:"quantity-input__modifier quantity-input__modifier--right",type:"button",onClick:function(){c(1),e.onChange(r)},children:"\uff0b"})]})}var Be=t(97);var Ge=t(163),Ie=t(155);function De(e){var n,t=function(e){var n=Object(a.useState)(new Map(e)),t=Object(p.a)(n,2),r=t[0],i=t[1];return[r,{set:function(e,n){i((function(t){var a=new Map(t);return a.set(e,n),a}))},unset:function(e){i((function(n){var t=new Map(n);return t.delete(e),t}))},clear:function(){i((function(e){var n=new Map(e);return n.clear(),n}))}}]}(null!==(n=e.board)&&void 0!==n?n:Pe()),r=Object(p.a)(t,2),i=r[0],c=r[1].set,s=function(e,n,t){var a=i.get(n);a.cards[t].quantity=e,c(n,a)},o=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(H.a,{children:[Object(k.jsx)(Be.a,{options:Object.entries(U).map((function(e){return{value:e[0],label:e[1]}})),value:{label:i.get("wonders").option},isSearchable:!1,onChange:function(e){return c("wonders",$(i,e.value))}}),Object(k.jsx)(Ge.a,{label:"Side ".concat(i.get("wonders").sideA?"A":"B"),control:Object(k.jsx)(Ie.a,{checked:i.get("wonders").sideA,onChange:function(e){return c("wonders",$(i,null,e.target.checked))}})})]}),Object(k.jsx)("div",{className:"my-2",children:null===i||void 0===i?void 0:i.get("wonders").cards.map((function(e,n){return Object(k.jsx)(_.a.Check,{inline:!0,label:"Phase ".concat(n+1),checked:1===e.quantity,onChange:function(e){return s(+e.target.checked,"wonders",n)},type:"checkbox"},n)}))})]})};return Object(k.jsxs)(R.a,{show:e.show,onHide:e.handleClose,children:[Object(k.jsx)(R.a.Header,{closeButton:!0,children:Object(k.jsx)(R.a.Title,{children:"Scoreboard Builder"})}),Object(k.jsx)(R.a.Body,{className:"p-0",children:Object(k.jsx)(T.a,{children:Object(j.a)(i.keys()).map((function(e,n){return Object(k.jsxs)(T.a.Item,{eventKey:n,children:[Object(k.jsx)(T.a.Header,{children:e}),Object(k.jsx)(T.a.Body,{children:Object(k.jsx)(V.a,{variant:"flush",children:"wonders"===e?Object(k.jsx)(o,{}):null===i||void 0===i?void 0:i.get(e).cards.map((function(n,t){return Object(k.jsxs)(V.a.Item,{className:"d-flex",children:[n.item.name,Object(k.jsx)("div",{className:"flex-grow-1"}),Object(k.jsx)(Ee,{value:n.quantity,onChange:function(n){return s(n,e,t)}})]},t)}))})})]},n)}))})}),Object(k.jsx)(R.a.Footer,{children:Object(k.jsx)(F.a,{variant:"primary",onClick:function(){return e.handleSave(i)},children:"Save Changes"})})]})}var He=t(151);function _e(e){return Object(k.jsx)(T.a,{children:Object(j.a)(e.board.keys()).map((function(n,t){return Object(k.jsxs)(T.a.Item,{eventKey:t,children:[Object(k.jsxs)(T.a.Header,{children:[Object(k.jsxs)(He.a,{bg:"success",className:"mx-2",pill:!0,children:[" ",e.board.get(n).points]}),n]}),Object(k.jsx)(T.a.Body,{children:Object(k.jsx)(V.a,{variant:"flush",children:e.board.get(n).cards.map((function(e,n){return Object(k.jsxs)(V.a.Item,{className:"d-flex",children:[e.item.name,Object(k.jsx)("div",{className:"flex-grow-1"}),Object(k.jsx)("span",{children:e.quantity})]},n)}))})})]},t)}))})}var Re=t(2),Te=t(84),Ve=function(e){return Object(k.jsx)(Te.a,{onDragEnd:e.onDragEnd,children:Object(k.jsx)(Te.c,{droppableId:"droppable",children:function(n){return Object(k.jsxs)("div",Object(Re.a)(Object(Re.a)({},n.droppableProps),{},{ref:n.innerRef,children:[e.children,n.placeholder]}))}})})};Ve.Drag=function(e){return Object(k.jsx)(Te.b,{draggableId:e.name,index:e.index,children:function(n,t){return Object(k.jsx)("div",Object(Re.a)(Object(Re.a)(Object(Re.a)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{className:"mb-3",style:(t.isDragging,a=n.draggableProps.style,Object(Re.a)({userSelect:"none"},a)),children:e.children}));var a}},e.name)};var Fe=Ve,ze=function(e){Object(m.a)(t,e);var n=Object(O.a)(t);function t(e){var a;return Object(b.a)(this,t),(a=n.call(this,e)).addPlayer=function(){var e=prompt("Please enter player name");e&&a.setState((function(n){return{players:M()(n.players,{$push:[new N(e)]})}}))},a.updatePlayer=function(e,n){var t=a.state.players.slice();t[n]=e,a.setState({players:t},(function(){return a.calculateScores()}))},a.removePlayer=function(e){a.setState((function(n){return M()(n,{players:{$splice:[[e,1]]}})}))},a.calculateScores=function(){a.setState({players:I(a.state.players.slice())})},a.openModal=function(e){a.setState({modalOpen:!0,modalIndex:e})},a.closeModal=function(){a.setState({modalOpen:!1,modalIndex:null})},a.saveModal=function(e){var n=a.state.modalIndex,t=a.state.players[n];t.board=e,a.updatePlayer(t,n),a.closeModal()},a.getPoints=function(e){return e.board?Object(j.a)(e.board.values()).reduce((function(e,n){return e+n.points}),0):0},a.dropdownMenu=function(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(y.a.Item,{eventKey:"1",as:"button",onClick:function(){return a.openModal(e)},children:"Add/Edit Scoreboard"}),Object(k.jsx)(y.a.Divider,{}),Object(k.jsx)(y.a.Item,{eventKey:"2",as:"button",onClick:function(){return a.removePlayer(e)},children:"Delete Player"})]})},a.state={players:[new N("steven"),new N("charlotte")],modalOpen:!1,modalIndex:null},a.onDragEnd=a.onDragEnd.bind(Object(f.a)(a)),a}return Object(h.a)(t,[{key:"onDragEnd",value:function(e){if(e.destination){var n=function(e,n,t){var a=Array.from(e),r=a.splice(n,1),i=Object(p.a)(r,1)[0];return a.splice(t,0,i),a}(this.state.players,e.source.index,e.destination.index);this.setState({players:n})}}},{key:"render",value:function(){var e=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h1",{className:"m-3",children:"7-Wonders"}),Object(k.jsxs)(l.a,{children:[Object(k.jsx)(Fe,{onDragEnd:this.onDragEnd,children:this.state.players.map((function(n,t){return Object(k.jsx)(Fe.Drag,{name:n.name,index:t,children:Object(k.jsx)(q,{name:n.name,points:e.getPoints(n),menu:e.dropdownMenu(t),children:n.board&&Object(k.jsx)(_e,{board:n.board})})},t)}))}),Object(k.jsx)(D,{onClick:this.addPlayer})]}),null!==this.state.modalIndex&&Object(k.jsx)(De,{show:this.state.modalOpen,handleClose:this.closeModal,handleSave:this.saveModal.bind(this),board:this.state.players[this.state.modalIndex].board})]})}}]),t}(r.a.Component),Le=[{path:"/",exact:!0,name:"Home!",main:function(){return Object(k.jsx)("h2",{children:"Home"})}},{path:"/sevenwonders",name:"7 Wonders",main:function(){return Object(k.jsx)(ze,{})}},{path:"/shoelaces",name:"Shoelaces!",main:function(){return Object(k.jsx)("h2",{children:"Shoelaces"})}}];function Ke(){return Object(k.jsx)(u.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(k.jsxs)(l.a,{children:[Object(k.jsx)(u.a.Brand,{children:"Game Scores"}),Object(k.jsx)(u.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(k.jsx)(u.a.Collapse,{id:"responsive-navbar-nav",children:Object(k.jsx)(d.a,{className:"me-auto",children:Le.map((function(e,n){return Object(k.jsx)(d.a.Link,{as:s.b,to:e.path,href:e.path,children:e.name},n)}))})})]})})}function We(){return Object(k.jsxs)(s.a,{children:[Object(k.jsx)(Ke,{}),Object(k.jsx)(o.c,{children:Le.map((function(e,n){return Object(k.jsx)(o.a,{path:e.path,exact:e.exact,children:Object(k.jsx)(e.main,{})},n)}))})]})}c.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(We,{})}),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.f220ad76.chunk.js.map