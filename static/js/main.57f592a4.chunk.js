(this["webpackJsonpgame-scores"]=this["webpackJsonpgame-scores"]||[]).push([[0],{106:function(t,n,e){"use strict";e.r(n);var a=e(0),i=e.n(a),r=e(21),c=e.n(r),s=(e(85),e(62)),o=e(12),u=e(118),l=e(112),d=e(120),j=e(32),h=e(8),b=e(10),f=e(20),m=e(19),O=e(115),y=e(113),p=e(114),v=e(17),x=e(119),w=e(57),g=e(49),q=e(76),k=e(1);function S(t){var n=Object(a.useState)(!0),e=Object(v.a)(n,2),i=e[0],r=e[1];return Object(k.jsxs)(x.a,{bg:"light",border:"light",className:"app-card",children:[Object(k.jsx)(x.a.Header,{children:Object(k.jsxs)("div",{className:"d-flex align-items-center",children:[Object(k.jsx)(g.a,{icon:q.faUserCircle,className:"mx-1",onClick:function(){return r(!i)}}),Object(k.jsx)("span",{children:t.name}),Object(k.jsx)("div",{className:"flex-grow-1"}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(O.a.Toggle,{size:"sm",variant:"secondary"}),Object(k.jsx)(O.a.Menu,{children:t.menu})]})]})}),Object(k.jsx)(w.a,{in:i,children:Object(k.jsx)(x.a.Body,{className:"p-0",children:t.children})}),Object(k.jsx)(x.a.Footer,{className:"text-muted text-end",children:Object(k.jsxs)("span",{className:"mx-2",children:["Total: ",t.points]})})]})}var M=e(69),C=e.n(M),N=function(){function t(){if(Object(h.a)(this,t),this.constructor===t)throw new Error("Abstract classes can't be instantiated.")}return Object(b.a)(t,[{key:"action",value:function(){throw new Error("Method must be implemented.")}}]),t}(),P=function t(n){Object(h.a)(this,t),this.name=n},A=function(t){return t.reduce((function(t,n){return t+n}),0)},B=function(t,n){return t.length===n+1?t[0]:t[n+1]},G=function(t,n){return 0===n?t[t.length-1]:t[n-1]},E=function(t){return A(t.map((function(t){return Math.pow(t.quantity,2)})))+7*Math.min.apply(Math,Object(j.a)(t.map((function(t){return t.quantity}))))},I=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return A(t.map((function(t){return 0===t.quantity?0:t.item.action(n)*t.quantity})))},_=function(t){return function(t){var n=t;return n.forEach((function(t,e){t.board&&t.board.forEach((function(a,i){var r=0;switch(i){case"military":case"civic":r=I(a.cards);break;case"money":r=Math.floor(I(a.cards)/3);break;case"science":r=E(a.cards);break;case"commerce":case"guild":r=I(a.cards,{players:n,index:e})}t.board.set(i,{points:r,cards:a.cards})}))})),n}(t)},H=e(78);function T(t){return Object(k.jsx)(x.a,{onClick:t.onClick,bg:"secondary",border:"secondary",className:"text-center app-card",children:Object(k.jsx)(x.a.Body,{children:Object(k.jsx)(g.a,{icon:H.a,size:"4x"})})})}var V=e(116),F=e(117),L=e(121),R=e(77),z=function(){function t(){Object(h.a)(this,t),this.name="Silver"}return Object(b.a)(t,[{key:"action",value:function(){return 1}}]),t}(),W=function(){function t(){Object(h.a)(this,t),this.name="Gold"}return Object(b.a)(t,[{key:"action",value:function(){return 3}}]),t}();var J=function(){function t(){Object(h.a)(this,t),this.name="Battle Wins"}return Object(b.a)(t,[{key:"action",value:function(){return 1}}]),t}(),K=function(){function t(){Object(h.a)(this,t),this.name="Battle Losses"}return Object(b.a)(t,[{key:"action",value:function(){return-1}}]),t}();var U=function(){function t(n){Object(h.a)(this,t),this.name="".concat(n," Phase One")}return Object(b.a)(t,[{key:"action",value:function(){return 3}}]),t}(),$=function(){function t(n){Object(h.a)(this,t),this.name="".concat(n," Phase Two")}return Object(b.a)(t,[{key:"action",value:function(){return 0}}]),t}(),D=function(){function t(n){Object(h.a)(this,t),this.name="".concat(n," Phase Three")}return Object(b.a)(t,[{key:"action",value:function(){return 7}}]),t}();function X(t,n){return t.set("wonders",{points:0,cards:[{item:new U(n),quantity:0},{item:new $(n),quantity:0},{item:new D(n),quantity:0}]}),t}var Q={Rhodes:"Rhodes",Alexandria:"Alexandria",Ephesus:"Ephesus",Babylon:"Babylon",Olympia:"Olympia",Halicarnassus:"Halicarnassus",Giza:"Giza"},Y=function(){function t(){Object(h.a)(this,t),this.name="Two Victory Points"}return Object(b.a)(t,[{key:"action",value:function(){return 2}}]),t}(),Z=function(){function t(){Object(h.a)(this,t),this.name="Three Victory Points"}return Object(b.a)(t,[{key:"action",value:function(){return 3}}]),t}(),tt=function(){function t(){Object(h.a)(this,t),this.name="Four Victory Points"}return Object(b.a)(t,[{key:"action",value:function(){return 4}}]),t}(),nt=function(){function t(){Object(h.a)(this,t),this.name="Five Victory Points"}return Object(b.a)(t,[{key:"action",value:function(){return 5}}]),t}(),et=function(){function t(){Object(h.a)(this,t),this.name="Six Victory Points"}return Object(b.a)(t,[{key:"action",value:function(){return 6}}]),t}(),at=function(){function t(){Object(h.a)(this,t),this.name="Seven Victory Points"}return Object(b.a)(t,[{key:"action",value:function(){return 7}}]),t}(),it=function(){function t(){Object(h.a)(this,t),this.name="Eight Victory Points"}return Object(b.a)(t,[{key:"action",value:function(){return 8}}]),t}();var rt=function(){function t(){Object(h.a)(this,t),this.name="Tablet"}return Object(b.a)(t,[{key:"action",value:function(){return 1}}]),t}(),ct=function(){function t(){Object(h.a)(this,t),this.name="Cog"}return Object(b.a)(t,[{key:"action",value:function(){return 1}}]),t}(),st=function(){function t(){Object(h.a)(this,t),this.name="Compass"}return Object(b.a)(t,[{key:"action",value:function(){return 1}}]),t}();var ot=function(t,n){var e,a=0;return null===(e=t.board)||void 0===e||e.get("misc").cards.forEach((function(t){t.item.name===n&&(a=t.quantity)})),a},ut=function(t){return ot(t,"Raw Materials")},lt=function(t){return ot(t,"Manufactured Goods")},dt=function(t){return ot(t,"Military Structures")},jt=function(t){var n,e,a;return null!==(n=null===(e=t.board)||void 0===e||null===(a=e.get("military").cards.filter((function(t){return"Battle Losses"===t.item.name&&t.quantity>0})))||void 0===a?void 0:a.length)&&void 0!==n?n:0},ht=function(t,n){var e,a;return A(null!==(e=null===(a=t.board)||void 0===a?void 0:a.get(n).cards.map((function(t){return t.quantity})))&&void 0!==e?e:[0])},bt=function t(){Object(h.a)(this,t),this.name="Haven",this.action=function(t){return ut(t.players[t.index])}},ft=function t(){Object(h.a)(this,t),this.name="Lighthouse",this.action=function(t){return ht(t.players[t.index],"commerce")}},mt=function t(){Object(h.a)(this,t),this.name="Chamber Of Commerce",this.action=function(t){return 2*lt(t.players[t.index])}},Ot=function t(){Object(h.a)(this,t),this.name="Other",this.action=function(){return 0}};var yt="misc cards do not play an action",pt=function t(){Object(h.a)(this,t),this.name="Raw Materials",this.action=function(){throw new Error(yt)}},vt=function t(){Object(h.a)(this,t),this.name="Manufactured Goods",this.action=function(){throw new Error(yt)}},xt=function t(){Object(h.a)(this,t),this.name="Military Structures",this.action=function(){throw new Error(yt)}};var wt=function(t){Object(f.a)(e,t);var n=Object(m.a)(e);function e(){var t;Object(h.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=n.call.apply(n,[this].concat(i))).name="Workers Guild",t.action=function(t){return ut(G(t.players,t.index))+ut(B(t.players,t.index))},t}return e}(N),gt=function(t){Object(f.a)(e,t);var n=Object(m.a)(e);function e(){var t;Object(h.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=n.call.apply(n,[this].concat(i))).name="Craftsmens Guild",t.action=function(t){return 2*lt(G(t.players,t.index))+2*lt(B(t.players,t.index))},t}return e}(N),qt=function(t){Object(f.a)(e,t);var n=Object(m.a)(e);function e(){var t;Object(h.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=n.call.apply(n,[this].concat(i))).name="Traders Guild",t.action=function(t){return ht(G(t.players,t.index),"commerce")+ht(B(t.players,t.index),"commerce")},t}return e}(N),kt=function(t){Object(f.a)(e,t);var n=Object(m.a)(e);function e(){var t;Object(h.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=n.call.apply(n,[this].concat(i))).name="Philosophers Guild",t.action=function(t){return ht(G(t.players,t.index),"science")+ht(B(t.players,t.index),"science")},t}return e}(N),St=function(t){Object(f.a)(e,t);var n=Object(m.a)(e);function e(){var t;Object(h.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=n.call.apply(n,[this].concat(i))).name="Spies Guild",t.action=function(t){return dt(G(t.players,t.index))+dt(B(t.players,t.index))},t}return e}(N),Mt=function(t){Object(f.a)(e,t);var n=Object(m.a)(e);function e(){var t;Object(h.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=n.call.apply(n,[this].concat(i))).name="Strategists Guild",t.action=function(t){return jt(G(t.players,t.index))+jt(B(t.players,t.index))},t}return e}(N),Ct=function(t){Object(f.a)(e,t);var n=Object(m.a)(e);function e(){var t;Object(h.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=n.call.apply(n,[this].concat(i))).name="Shipowners Guild",t.action=function(t){return ut(t.players[t.index])+lt(t.players[t.index])+ht(t.players[t.index],"guild")},t}return e}(N),Nt=function(t){Object(f.a)(e,t);var n=Object(m.a)(e);function e(){var t;Object(h.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=n.call.apply(n,[this].concat(i))).name="Magistrates Guild",t.action=function(t){return ht(G(t.players,t.index),"civic")+ht(B(t.players,t.index),"civic")},t}return e}(N),Pt=function(t){Object(f.a)(e,t);var n=Object(m.a)(e);function e(){var t;Object(h.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=n.call.apply(n,[this].concat(i))).name="Builders Guild",t.action=function(t){return ht(G(t.players,t.index),"wonders")+ht(t.players[t.index],"wonders")+ht(B(t.players,t.index),"wonders")},t}return e}(N);var At=function(){var t=new Map;return X(t,Q.Rhodes),t.set("science",{points:0,cards:[{item:new J,quantity:0},{item:new K,quantity:0}]}),function(t){t.set("science",{points:0,cards:[{item:new z,quantity:0},{item:new W,quantity:0}]})}(t),function(t){t.set("civic",{points:0,cards:[{item:new Y,quantity:0},{item:new Z,quantity:0},{item:new tt,quantity:0},{item:new nt,quantity:0},{item:new et,quantity:0},{item:new at,quantity:0},{item:new it,quantity:0}]})}(t),function(t){t.set("science",{points:0,cards:[{item:new rt,quantity:0},{item:new ct,quantity:0},{item:new st,quantity:0}]})}(t),function(t){t.set("commerce",{points:0,cards:[{item:new bt,quantity:0},{item:new ft,quantity:0},{item:new mt,quantity:0},{item:new Ot,quantity:0}]})}(t),function(t){t.set("guild",{points:0,cards:[{item:new wt,quantity:0},{item:new gt,quantity:0},{item:new qt,quantity:0},{item:new kt,quantity:0},{item:new St,quantity:0},{item:new Mt,quantity:0},{item:new Ct,quantity:0},{item:new Nt,quantity:0},{item:new Pt,quantity:0}]})}(t),function(t){t.set("misc",{points:0,cards:[{item:new pt,quantity:0},{item:new vt,quantity:0},{item:new xt,quantity:0}]})}(t),t},Bt=function(){return At()};function Gt(t){var n,e,i=null!==(n=null===t||void 0===t?void 0:t.min)&&void 0!==n?n:0,r=null!==(e=null===t||void 0===t?void 0:t.max)&&void 0!==e?e:Number.MAX_VALUE,c=Object(a.useState)(t.value),s=Object(v.a)(c,2),o=s[0],u=s[1],l=function(n){t.onChange(n),u(n)};return Object(k.jsxs)("div",{className:"quantity-input",children:[Object(k.jsx)("button",{className:"quantity-input__modifier quantity-input__modifier--left",type:"button",onClick:function(){o>i&&l(o-1)},children:"\u2014"}),Object(k.jsx)("input",{className:"quantity-input__screen",type:"text",value:o,readOnly:!0}),Object(k.jsx)("button",{className:"quantity-input__modifier quantity-input__modifier--right",type:"button",onClick:function(){o<r&&l(o+1)},children:"\uff0b"})]})}var Et=e(79);function It(t){var n,e=Object(a.useState)(null!==(n=t.board)&&void 0!==n?n:Bt()),i=Object(v.a)(e,2),r=i[0],c=i[1],s=function(){return Object(k.jsx)(Et.a,{options:Object.entries(Q).map((function(t){return{value:t[0],label:t[1]}})),onChange:function(t){return c((function(n){return X(new Map(n),t.value)}))}})};return Object(k.jsxs)(V.a,{show:t.show,onHide:t.handleClose,children:[Object(k.jsx)(V.a.Header,{closeButton:!0,children:Object(k.jsx)(V.a.Title,{children:"Scoreboard Builder"})}),Object(k.jsx)(V.a.Body,{className:"p-0",children:Object(k.jsx)(F.a,{children:Object(j.a)(r.keys()).map((function(t,n){return Object(k.jsxs)(F.a.Item,{eventKey:n,children:[Object(k.jsx)(F.a.Header,{children:t}),Object(k.jsx)(F.a.Body,{children:Object(k.jsxs)(L.a,{variant:"flush",children:["wonders"===t&&Object(k.jsx)(s,{}),null===r||void 0===r?void 0:r.get(t).cards.map((function(n,e){return Object(k.jsxs)(L.a.Item,{className:"d-flex",children:[n.item.name,Object(k.jsx)("div",{className:"flex-grow-1"}),Object(k.jsx)(Gt,{value:n.quantity,onChange:function(n){return function(t,n,e){var a=r.get(n);a.cards[e].quantity=t,c((function(t){return new Map(t).set(n,a)}))}(n,t,e)}})]},e)}))]})})]},n)}))})}),Object(k.jsx)(V.a.Footer,{children:Object(k.jsx)(R.a,{variant:"primary",onClick:function(){return t.handleSave(r)},children:"Save Changes"})})]})}var _t=e(111);function Ht(t){return Object(k.jsx)(F.a,{children:Object(j.a)(t.board.keys()).map((function(n,e){return Object(k.jsxs)(F.a.Item,{eventKey:e,children:[Object(k.jsxs)(F.a.Header,{children:[Object(k.jsxs)(_t.a,{bg:"success",className:"mx-2",pill:!0,children:[" ",t.board.get(n).points]}),n]}),Object(k.jsx)(F.a.Body,{children:Object(k.jsx)(L.a,{variant:"flush",children:t.board.get(n).cards.map((function(t,n){return Object(k.jsxs)(L.a.Item,{className:"d-flex",children:[t.item.name,Object(k.jsx)("div",{className:"flex-grow-1"}),Object(k.jsx)("span",{children:t.quantity})]},n)}))})})]},e)}))})}var Tt=function(t){Object(f.a)(e,t);var n=Object(m.a)(e);function e(t){var a;return Object(h.a)(this,e),(a=n.call(this,t)).addPlayer=function(){var t=prompt("Please enter player name");t&&a.setState((function(n){return{players:C()(n.players,{$push:[new P(t)]})}}))},a.updatePlayer=function(t,n){var e=a.state.players.slice();e[n]=t,a.setState({players:e},(function(){return a.calculateScores()}))},a.removePlayer=function(t){a.setState((function(n){return C()(n,{players:{$splice:[[t,1]]}})}))},a.calculateScores=function(){a.setState({players:_(a.state.players.slice())})},a.openModal=function(t){a.setState({modalOpen:!0,modalIndex:t})},a.closeModal=function(){a.setState({modalOpen:!1,modalIndex:null})},a.saveModal=function(t){var n=a.state.modalIndex,e=a.state.players[n];e.board=t,a.updatePlayer(e,n),a.closeModal()},a.getPoints=function(t){return t.board?Object(j.a)(t.board.values()).reduce((function(t,n){return t+n.points}),0):0},a.dropdownMenu=function(t){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(O.a.Item,{as:"button",onClick:function(){return a.openModal(t)},children:"Add/Edit Scoreboard"}),Object(k.jsx)(O.a.Item,{as:"button",onClick:function(){return a.removePlayer(t)},children:"Delete Player"})]})},a.state={players:[new P("steven"),new P("charlotte")],modalOpen:!1,modalIndex:null},a}return Object(b.a)(e,[{key:"render",value:function(){var t=this;return Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{className:"m-3",children:"7-Wonders"}),Object(k.jsx)(l.a,{children:Object(k.jsxs)(y.a,{children:[this.state.players.map((function(n,e){return Object(k.jsx)(p.a,{xs:12,sm:6,children:Object(k.jsx)(S,{name:n.name,points:t.getPoints(n),menu:t.dropdownMenu(e),children:n.board&&Object(k.jsx)(Ht,{board:n.board})})},e)})),Object(k.jsx)(p.a,{xs:12,md:6,children:Object(k.jsx)(T,{onClick:this.addPlayer})})]})}),null!==this.state.modalIndex&&Object(k.jsx)(It,{show:this.state.modalOpen,handleClose:this.closeModal,handleSave:this.saveModal.bind(this),board:this.state.players[this.state.modalIndex].board})]})}}]),e}(i.a.Component),Vt=[{path:"/",exact:!0,name:"Home!",main:function(){return Object(k.jsx)("h2",{children:"Home"})}},{path:"/sevenwonders",name:"7 Wonders",main:function(){return Object(k.jsx)(Tt,{})}},{path:"/shoelaces",name:"Shoelaces!",main:function(){return Object(k.jsx)("h2",{children:"Shoelaces"})}}];function Ft(){return Object(k.jsx)(u.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(k.jsxs)(l.a,{children:[Object(k.jsx)(u.a.Brand,{children:"Game Scores"}),Object(k.jsx)(u.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(k.jsx)(u.a.Collapse,{id:"responsive-navbar-nav",children:Object(k.jsx)(d.a,{className:"me-auto",children:Vt.map((function(t,n){return Object(k.jsx)(d.a.Link,{as:s.b,to:t.path,href:t.path,children:t.name},n)}))})})]})})}function Lt(){return Object(k.jsxs)(s.a,{children:[Object(k.jsx)(Ft,{}),Object(k.jsx)(o.c,{children:Vt.map((function(t,n){return Object(k.jsx)(o.a,{path:t.path,exact:t.exact,children:Object(k.jsx)(t.main,{})},n)}))})]})}c.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(Lt,{})}),document.getElementById("root"))},85:function(t,n,e){}},[[106,1,2]]]);
//# sourceMappingURL=main.57f592a4.chunk.js.map