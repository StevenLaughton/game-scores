(this["webpackJsonpgame-scores"]=this["webpackJsonpgame-scores"]||[]).push([[0],{106:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(21),c=n.n(r),s=(n(85),n(63)),o=n(13),u=n(118),l=n(112),d=n(120),j=n(32),h=n(8),b=n(12),f=n(20),m=n(19),O=n(114),y=n(113),p=n(78),v=n(15),x=n(119),w=n(58),g=n(49),q=n(57),k=n(1);function S(t){var e=Object(a.useState)(!0),n=Object(v.a)(e,2),i=n[0],r=n[1];return Object(k.jsxs)(x.a,{bg:"light",border:"light",className:"app-card",children:[Object(k.jsx)(x.a.Header,{children:Object(k.jsxs)("div",{className:"d-flex align-items-center",children:[Object(k.jsxs)(O.a,{className:"mx-1",children:[Object(k.jsx)(O.a.Toggle,{size:"sm"}),Object(k.jsx)(O.a.Menu,{children:t.menu})]}),Object(k.jsx)("span",{children:t.name}),Object(k.jsx)("div",{className:"flex-grow-1"}),Object(k.jsx)("div",{className:i?"isRotated":"",children:Object(k.jsx)(g.a,{icon:q.a,className:"mx-1",onClick:function(){return r(!i)}})})]})}),Object(k.jsx)(w.a,{in:i,children:Object(k.jsx)(x.a.Body,{className:"p-0",children:t.children})}),Object(k.jsx)(x.a.Footer,{className:"text-muted text-end",children:Object(k.jsxs)("span",{className:"mx-2",children:["Total: ",t.points]})})]})}var M=n(70),C=n.n(M),N=function(){function t(){if(Object(h.a)(this,t),this.constructor===t)throw new Error("Abstract classes can't be instantiated.")}return Object(b.a)(t,[{key:"action",value:function(){throw new Error("Method must be implemented.")}}]),t}(),P=function t(e){Object(h.a)(this,t),this.name=e},G=function(t){return t.reduce((function(t,e){return t+e}),0)},A=function(t,e){return t.length===e+1?t[0]:t[e+1]},B=function(t,e){return 0===e?t[t.length-1]:t[e-1]},E=function(t){return G(t.map((function(t){return Math.pow(t.quantity,2)})))+7*Math.min.apply(Math,Object(j.a)(t.map((function(t){return t.quantity}))))},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return G(t.map((function(t){return 0===t.quantity?0:t.item.action(e)*t.quantity})))},_=function(t){return function(t){var e=t;return e.forEach((function(t,n){t.board&&t.board.forEach((function(a,i){var r=0;switch(i){case"military":case"civic":case"wonders":r=I(a.cards);break;case"money":r=Math.floor(I(a.cards)/3);break;case"science":r=E(a.cards);break;case"commerce":case"guild":r=I(a.cards,{players:e,index:n})}t.board.set(i,Object.assign(a,{points:r}))}))})),e}(t)};function H(t){return Object(k.jsx)(x.a,{onClick:t.onClick,bg:"secondary",border:"secondary",className:"text-center app-card",children:Object(k.jsx)(x.a.Body,{children:Object(k.jsx)(g.a,{icon:q.b,size:"4x"})})})}var T=n(116),V=n(115),R=n(117),F=n(121),z=n(77),L=function(){function t(){Object(h.a)(this,t),this.name="Silver"}return Object(b.a)(t,[{key:"action",value:function(){return 1}}]),t}(),K=function(){function t(){Object(h.a)(this,t),this.name="Gold"}return Object(b.a)(t,[{key:"action",value:function(){return 3}}]),t}();var W=function(){function t(){Object(h.a)(this,t),this.name="Battle Wins"}return Object(b.a)(t,[{key:"action",value:function(){return 1}}]),t}(),D=function(){function t(){Object(h.a)(this,t),this.name="Battle Losses"}return Object(b.a)(t,[{key:"action",value:function(){return-1}}]),t}();var J=function t(e,n){Object(h.a)(this,t),this.name="".concat(e," Phase One"),this.action=function(){return n}};function $(t,e){var n;return n=e===U.Giza?[3,5,7]:[3,0,7],{points:0,option:null!==e&&void 0!==e?e:U.Rhodes,cards:n.map((function(t){return{item:new J(e,t),quantity:0}}))}}var U={Rhodes:"Rhodes",Alexandria:"Alexandria",Ephesus:"Ephesus",Babylon:"Babylon",Olympia:"Olympia",Halicarnassus:"Halicarnassus",Giza:"Giza"},X=function(){function t(){Object(h.a)(this,t),this.name="Two Victory Points"}return Object(b.a)(t,[{key:"action",value:function(){return 2}}]),t}(),Q=function(){function t(){Object(h.a)(this,t),this.name="Three Victory Points"}return Object(b.a)(t,[{key:"action",value:function(){return 3}}]),t}(),Y=function(){function t(){Object(h.a)(this,t),this.name="Four Victory Points"}return Object(b.a)(t,[{key:"action",value:function(){return 4}}]),t}(),Z=function(){function t(){Object(h.a)(this,t),this.name="Five Victory Points"}return Object(b.a)(t,[{key:"action",value:function(){return 5}}]),t}(),tt=function(){function t(){Object(h.a)(this,t),this.name="Six Victory Points"}return Object(b.a)(t,[{key:"action",value:function(){return 6}}]),t}(),et=function(){function t(){Object(h.a)(this,t),this.name="Seven Victory Points"}return Object(b.a)(t,[{key:"action",value:function(){return 7}}]),t}(),nt=function(){function t(){Object(h.a)(this,t),this.name="Eight Victory Points"}return Object(b.a)(t,[{key:"action",value:function(){return 8}}]),t}();var at=function(){function t(){Object(h.a)(this,t),this.name="Tablet"}return Object(b.a)(t,[{key:"action",value:function(){return 1}}]),t}(),it=function(){function t(){Object(h.a)(this,t),this.name="Cog"}return Object(b.a)(t,[{key:"action",value:function(){return 1}}]),t}(),rt=function(){function t(){Object(h.a)(this,t),this.name="Compass"}return Object(b.a)(t,[{key:"action",value:function(){return 1}}]),t}();var ct=function(t,e){var n,a=0;return null===(n=t.board)||void 0===n||n.get("misc").cards.forEach((function(t){t.item.name===e&&(a=t.quantity)})),a},st=function(t){return ct(t,"Raw Materials")},ot=function(t){return ct(t,"Manufactured Goods")},ut=function(t){return ct(t,"Military Structures")},lt=function(t){var e,n,a;return null!==(e=null===(n=t.board)||void 0===n||null===(a=n.get("military").cards.filter((function(t){return"Battle Losses"===t.item.name&&t.quantity>0})))||void 0===a?void 0:a.length)&&void 0!==e?e:0},dt=function(t,e){var n,a;return G(null!==(n=null===(a=t.board)||void 0===a?void 0:a.get(e).cards.map((function(t){return t.quantity})))&&void 0!==n?n:[0])},jt=function t(){Object(h.a)(this,t),this.name="Haven",this.action=function(t){return st(t.players[t.index])}},ht=function t(){Object(h.a)(this,t),this.name="Lighthouse",this.action=function(t){return dt(t.players[t.index],"commerce")}},bt=function t(){Object(h.a)(this,t),this.name="Chamber Of Commerce",this.action=function(t){return 2*ot(t.players[t.index])}},ft=function t(){Object(h.a)(this,t),this.name="Other",this.action=function(){return 0}};var mt="misc cards do not play an action",Ot=function t(){Object(h.a)(this,t),this.name="Raw Materials",this.action=function(){throw new Error(mt)}},yt=function t(){Object(h.a)(this,t),this.name="Manufactured Goods",this.action=function(){throw new Error(mt)}},pt=function t(){Object(h.a)(this,t),this.name="Military Structures",this.action=function(){throw new Error(mt)}};var vt=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).name="Workers Guild",t.action=function(t){return st(B(t.players,t.index))+st(A(t.players,t.index))},t}return n}(N),xt=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).name="Craftsmens Guild",t.action=function(t){return 2*ot(B(t.players,t.index))+2*ot(A(t.players,t.index))},t}return n}(N),wt=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).name="Traders Guild",t.action=function(t){return dt(B(t.players,t.index),"commerce")+dt(A(t.players,t.index),"commerce")},t}return n}(N),gt=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).name="Philosophers Guild",t.action=function(t){return dt(B(t.players,t.index),"science")+dt(A(t.players,t.index),"science")},t}return n}(N),qt=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).name="Spies Guild",t.action=function(t){return ut(B(t.players,t.index))+ut(A(t.players,t.index))},t}return n}(N),kt=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).name="Strategists Guild",t.action=function(t){return lt(B(t.players,t.index))+lt(A(t.players,t.index))},t}return n}(N),St=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).name="Shipowners Guild",t.action=function(t){return st(t.players[t.index])+ot(t.players[t.index])+dt(t.players[t.index],"guild")},t}return n}(N),Mt=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).name="Magistrates Guild",t.action=function(t){return dt(B(t.players,t.index),"civic")+dt(A(t.players,t.index),"civic")},t}return n}(N),Ct=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).name="Builders Guild",t.action=function(t){return dt(B(t.players,t.index),"wonders")+dt(t.players[t.index],"wonders")+dt(A(t.players,t.index),"wonders")},t}return n}(N);var Nt=function(){var t,e,n=new Map;return t=n,e=U.Rhodes,t.set("wonders",$(0,e)),function(t){t.set("military",{points:0,cards:[{item:new W,quantity:0},{item:new D,quantity:0}]})}(n),function(t){t.set("money",{points:0,cards:[{item:new L,quantity:0},{item:new K,quantity:0}]})}(n),function(t){t.set("civic",{points:0,cards:[{item:new X,quantity:0},{item:new Q,quantity:0},{item:new Y,quantity:0},{item:new Z,quantity:0},{item:new tt,quantity:0},{item:new et,quantity:0},{item:new nt,quantity:0}]})}(n),function(t){t.set("science",{points:0,cards:[{item:new at,quantity:0},{item:new it,quantity:0},{item:new rt,quantity:0}]})}(n),function(t){t.set("commerce",{points:0,cards:[{item:new jt,quantity:0},{item:new ht,quantity:0},{item:new bt,quantity:0},{item:new ft,quantity:0}]})}(n),function(t){t.set("guild",{points:0,cards:[{item:new vt,quantity:0},{item:new xt,quantity:0},{item:new wt,quantity:0},{item:new gt,quantity:0},{item:new qt,quantity:0},{item:new kt,quantity:0},{item:new St,quantity:0},{item:new Mt,quantity:0},{item:new Ct,quantity:0}]})}(n),function(t){t.set("misc",{points:0,cards:[{item:new Ot,quantity:0},{item:new yt,quantity:0},{item:new pt,quantity:0}]})}(n),n},Pt=function(){return Nt()};function Gt(t){var e,n,i=null!==(e=null===t||void 0===t?void 0:t.min)&&void 0!==e?e:0,r=null!==(n=null===t||void 0===t?void 0:t.max)&&void 0!==n?n:Number.MAX_VALUE,c=Object(a.useState)(t.value),s=Object(v.a)(c,2),o=s[0],u=s[1],l=function(e){t.onChange(e),u(e)};return Object(k.jsxs)("div",{className:"quantity-input",children:[Object(k.jsx)("button",{className:"quantity-input__modifier quantity-input__modifier--left",type:"button",onClick:function(){o>i&&l(o-1)},children:"\u2014"}),Object(k.jsx)("input",{className:"quantity-input__screen",type:"text",value:o,readOnly:!0}),Object(k.jsx)("button",{className:"quantity-input__modifier quantity-input__modifier--right",type:"button",onClick:function(){o<r&&l(o+1)},children:"\uff0b"})]})}var At=n(79);function Bt(t){var e,n=function(t){var e=Object(a.useState)(new Map(t)),n=Object(v.a)(e,2),i=n[0],r=n[1];return[i,{set:function(t,e){r((function(n){var a=new Map(n);return a.set(t,e),a}))},unset:function(t){r((function(e){var n=new Map(e);return n.delete(t),n}))},clear:function(){r((function(t){var e=new Map(t);return e.clear(),e}))}}]}(null!==(e=t.board)&&void 0!==e?e:Pt()),i=Object(v.a)(n,2),r=i[0],c=i[1].set,s=function(t,e,n){var a=r.get(e);a.cards[n].quantity=t,c(e,a)},o=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(At.a,{options:Object.entries(U).map((function(t){return{value:t[0],label:t[1]}})),value:{label:r.get("wonders").option},isSearchable:!1,onChange:function(t){return c("wonders",$(0,t.value))}}),Object(k.jsx)("div",{className:"my-2",children:null===r||void 0===r?void 0:r.get("wonders").cards.map((function(t,e){return Object(k.jsx)(T.a.Check,{inline:!0,label:"Phase ".concat(e+1),checked:1===t.quantity,onChange:function(t){return s(+t.target.checked,"wonders",e)},type:"checkbox"},e)}))})]})};return Object(k.jsxs)(V.a,{show:t.show,onHide:t.handleClose,children:[Object(k.jsx)(V.a.Header,{closeButton:!0,children:Object(k.jsx)(V.a.Title,{children:"Scoreboard Builder"})}),Object(k.jsx)(V.a.Body,{className:"p-0",children:Object(k.jsx)(R.a,{children:Object(j.a)(r.keys()).map((function(t,e){return Object(k.jsxs)(R.a.Item,{eventKey:e,children:[Object(k.jsx)(R.a.Header,{children:t}),Object(k.jsx)(R.a.Body,{children:Object(k.jsx)(F.a,{variant:"flush",children:"wonders"===t?Object(k.jsx)(o,{}):null===r||void 0===r?void 0:r.get(t).cards.map((function(e,n){return Object(k.jsxs)(F.a.Item,{className:"d-flex",children:[e.item.name,Object(k.jsx)("div",{className:"flex-grow-1"}),Object(k.jsx)(Gt,{value:e.quantity,onChange:function(e){return s(e,t,n)}})]},n)}))})})]},e)}))})}),Object(k.jsx)(V.a.Footer,{children:Object(k.jsx)(z.a,{variant:"primary",onClick:function(){return t.handleSave(r)},children:"Save Changes"})})]})}var Et=n(111);function It(t){return Object(k.jsx)(R.a,{children:Object(j.a)(t.board.keys()).map((function(e,n){return Object(k.jsxs)(R.a.Item,{eventKey:n,children:[Object(k.jsxs)(R.a.Header,{children:[Object(k.jsxs)(Et.a,{bg:"success",className:"mx-2",pill:!0,children:[" ",t.board.get(e).points]}),e]}),Object(k.jsx)(R.a.Body,{children:Object(k.jsx)(F.a,{variant:"flush",children:t.board.get(e).cards.map((function(t,e){return Object(k.jsxs)(F.a.Item,{className:"d-flex",children:[t.item.name,Object(k.jsx)("div",{className:"flex-grow-1"}),Object(k.jsx)("span",{children:t.quantity})]},e)}))})})]},n)}))})}var _t=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).addPlayer=function(){var t=prompt("Please enter player name");t&&a.setState((function(e){return{players:C()(e.players,{$push:[new P(t)]})}}))},a.updatePlayer=function(t,e){var n=a.state.players.slice();n[e]=t,a.setState({players:n},(function(){return a.calculateScores()}))},a.removePlayer=function(t){a.setState((function(e){return C()(e,{players:{$splice:[[t,1]]}})}))},a.calculateScores=function(){a.setState({players:_(a.state.players.slice())})},a.openModal=function(t){a.setState({modalOpen:!0,modalIndex:t})},a.closeModal=function(){a.setState({modalOpen:!1,modalIndex:null})},a.saveModal=function(t){var e=a.state.modalIndex,n=a.state.players[e];n.board=t,a.updatePlayer(n,e),a.closeModal()},a.getPoints=function(t){return t.board?Object(j.a)(t.board.values()).reduce((function(t,e){return t+e.points}),0):0},a.dropdownMenu=function(t){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(O.a.Item,{eventKey:"1",as:"button",onClick:function(){return a.openModal(t)},children:"Add/Edit Scoreboard"}),Object(k.jsx)(O.a.Divider,{}),Object(k.jsx)(O.a.Item,{eventKey:"2",as:"button",onClick:function(){return a.removePlayer(t)},children:"Delete Player"})]})},a.state={players:[new P("steven"),new P("charlotte")],modalOpen:!1,modalIndex:null},a}return Object(b.a)(n,[{key:"render",value:function(){var t=this;return Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{className:"m-3",children:"7-Wonders"}),Object(k.jsx)(l.a,{children:Object(k.jsxs)(y.a,{children:[this.state.players.map((function(e,n){return Object(k.jsx)(p.a,{xs:12,sm:6,children:Object(k.jsx)(S,{name:e.name,points:t.getPoints(e),menu:t.dropdownMenu(n),children:e.board&&Object(k.jsx)(It,{board:e.board})})},n)})),Object(k.jsx)(p.a,{xs:12,md:6,children:Object(k.jsx)(H,{onClick:this.addPlayer})})]})}),null!==this.state.modalIndex&&Object(k.jsx)(Bt,{show:this.state.modalOpen,handleClose:this.closeModal,handleSave:this.saveModal.bind(this),board:this.state.players[this.state.modalIndex].board})]})}}]),n}(i.a.Component),Ht=[{path:"/",exact:!0,name:"Home!",main:function(){return Object(k.jsx)("h2",{children:"Home"})}},{path:"/sevenwonders",name:"7 Wonders",main:function(){return Object(k.jsx)(_t,{})}},{path:"/shoelaces",name:"Shoelaces!",main:function(){return Object(k.jsx)("h2",{children:"Shoelaces"})}}];function Tt(){return Object(k.jsx)(u.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(k.jsxs)(l.a,{children:[Object(k.jsx)(u.a.Brand,{children:"Game Scores"}),Object(k.jsx)(u.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(k.jsx)(u.a.Collapse,{id:"responsive-navbar-nav",children:Object(k.jsx)(d.a,{className:"me-auto",children:Ht.map((function(t,e){return Object(k.jsx)(d.a.Link,{as:s.b,to:t.path,href:t.path,children:t.name},e)}))})})]})})}function Vt(){return Object(k.jsxs)(s.a,{children:[Object(k.jsx)(Tt,{}),Object(k.jsx)(o.c,{children:Ht.map((function(t,e){return Object(k.jsx)(o.a,{path:t.path,exact:t.exact,children:Object(k.jsx)(t.main,{})},e)}))})]})}c.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(Vt,{})}),document.getElementById("root"))},85:function(t,e,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.2f3fef76.chunk.js.map