(this["webpackJsonpgame-scores"]=this["webpackJsonpgame-scores"]||[]).push([[0],{104:function(e,n,t){},126:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),r=t(18),c=t.n(r),o=(t(104),t(78)),s=t(17),u=t(157),l=t(151),d=t(159),j=t(43),b=t(20),h=t(152),f=t(158),m=t(71),O=t(62),y=t(70),p=t(1);function v(e){var n=Object(a.useState)(!1),t=Object(b.a)(n,2),i=t[0],r=t[1];return Object(p.jsxs)(f.a,{bg:"light",border:"light",children:[Object(p.jsx)(f.a.Header,{children:Object(p.jsxs)("div",{className:"d-flex align-items-center",children:[Object(p.jsxs)(h.a,{className:"mx-1",children:[Object(p.jsx)(h.a.Toggle,{size:"sm"}),Object(p.jsx)(h.a.Menu,{children:e.menu})]}),Object(p.jsx)("span",{children:e.name}),Object(p.jsx)("div",{className:"flex-grow-1"}),Object(p.jsx)("div",{className:i?"isRotated":"",children:Object(p.jsx)(O.a,{icon:y.a,className:"mx-1",onClick:function(){return r(!i)}})})]})}),Object(p.jsx)(m.a,{in:i,children:Object(p.jsx)(f.a.Body,{className:"p-0",children:e.children})}),Object(p.jsx)(f.a.Footer,{className:"text-muted text-end",children:Object(p.jsxs)("span",{className:"mx-2",children:["Total: ",e.points]})})]})}var x=t(8),w=t(16),g=function(){function e(){if(Object(x.a)(this,e),this.constructor===e)throw new Error("Abstract classes can't be instantiated.")}return Object(w.a)(e,[{key:"action",value:function(){throw new Error("Method must be implemented.")}}]),e}(),q=function e(n){Object(x.a)(this,e),this.name=n};function k(e){return Object(p.jsx)(f.a,{onClick:e.onClick,bg:"secondary",border:"secondary",className:"text-center app-card",children:Object(p.jsx)(f.a.Body,{children:Object(p.jsx)(O.a,{icon:y.b,size:"4x"})})})}var A=t(149),C=t(155),N=t(153),S=t(156),M=t(162),E=t(90),B=function(){function e(){Object(x.a)(this,e),this.name="Silver"}return Object(w.a)(e,[{key:"action",value:function(){return 1}}]),e}(),G=function(){function e(){Object(x.a)(this,e),this.name="Gold"}return Object(w.a)(e,[{key:"action",value:function(){return 3}}]),e}();var P=function(){function e(){Object(x.a)(this,e),this.name="Battle Wins"}return Object(w.a)(e,[{key:"action",value:function(){return 1}}]),e}(),H=function(){function e(){Object(x.a)(this,e),this.name="Battle Losses"}return Object(w.a)(e,[{key:"action",value:function(){return-1}}]),e}();var _=function e(n,t){Object(x.a)(this,e),this.name="".concat(n," Phase One"),this.action=function(){return t}};function I(e,n,t){var a,i,r,c=null===e||void 0===e?void 0:e.get("wonders"),o=null===(a=null!==t&&void 0!==t?t:null===c||void 0===c?void 0:c.sideA)||void 0===a||a,s=null!==(i=null!==n&&void 0!==n?n:null===c||void 0===c?void 0:c.option)&&void 0!==i?i:R.Rhodes;if(o)r=n===R.Giza?[3,5,7]:[3,0,7];else switch(s){case R.Rhodes:r=[3,4];break;case R.Alexandria:r=[0,0,7];break;case R.Ephesus:r=[2,3,5];break;case R.Babylon:r=[3,0,0];break;case R.Olympia:r=[0,5,0];break;case R.Halicarnassus:r=[2,1,0];break;case R.Giza:r=[3,5,5,7];break;default:r=[0,0,0]}return{points:0,option:s,sideA:o,cards:r.map((function(e){return{item:new _(n,e),quantity:0}}))}}var R={Rhodes:"Rhodes",Alexandria:"Alexandria",Ephesus:"Ephesus",Babylon:"Babylon",Olympia:"Olympia",Halicarnassus:"Halicarnassus",Giza:"Giza"},D=function(){function e(){Object(x.a)(this,e),this.name="Two Victory Points"}return Object(w.a)(e,[{key:"action",value:function(){return 2}}]),e}(),T=function(){function e(){Object(x.a)(this,e),this.name="Three Victory Points"}return Object(w.a)(e,[{key:"action",value:function(){return 3}}]),e}(),V=function(){function e(){Object(x.a)(this,e),this.name="Four Victory Points"}return Object(w.a)(e,[{key:"action",value:function(){return 4}}]),e}(),F=function(){function e(){Object(x.a)(this,e),this.name="Five Victory Points"}return Object(w.a)(e,[{key:"action",value:function(){return 5}}]),e}(),z=function(){function e(){Object(x.a)(this,e),this.name="Six Victory Points"}return Object(w.a)(e,[{key:"action",value:function(){return 6}}]),e}(),L=function(){function e(){Object(x.a)(this,e),this.name="Seven Victory Points"}return Object(w.a)(e,[{key:"action",value:function(){return 7}}]),e}(),K=function(){function e(){Object(x.a)(this,e),this.name="Eight Victory Points"}return Object(w.a)(e,[{key:"action",value:function(){return 8}}]),e}();var W=function(){function e(){Object(x.a)(this,e),this.name="Tablet"}return Object(w.a)(e,[{key:"action",value:function(){return 1}}]),e}(),J=function(){function e(){Object(x.a)(this,e),this.name="Cog"}return Object(w.a)(e,[{key:"action",value:function(){return 1}}]),e}(),U=function(){function e(){Object(x.a)(this,e),this.name="Compass"}return Object(w.a)(e,[{key:"action",value:function(){return 1}}]),e}();var X=function(e){return e.reduce((function(e,n){return e+n}),0)},Q=function(e,n){return e.length===n+1?e[0]:e[n+1]},Y=function(e,n){return 0===n?e[e.length-1]:e[n-1]},Z=function(e,n){var t,a=0;return null===(t=e.board)||void 0===t||t.get("misc").cards.forEach((function(e){e.item.name===n&&(a=e.quantity)})),a},$=function(e){return Z(e,"Raw Materials")},ee=function(e){return Z(e,"Manufactured Goods")},ne=function(e){return Z(e,"Military Structures")},te=function(e){var n,t,a;return null!==(n=null===(t=e.board)||void 0===t||null===(a=t.get("military").cards.filter((function(e){return"Battle Losses"===e.item.name&&e.quantity>0})))||void 0===a?void 0:a.length)&&void 0!==n?n:0},ae=function(e,n){var t,a;return X(null!==(t=null===(a=e.board)||void 0===a?void 0:a.get(n).cards.map((function(e){return e.quantity})))&&void 0!==t?t:[0])},ie=function e(){Object(x.a)(this,e),this.name="Haven",this.action=function(e){return $(e.players[e.index])}},re=function e(){Object(x.a)(this,e),this.name="Lighthouse",this.action=function(e){return ae(e.players[e.index],"commerce")}},ce=function e(){Object(x.a)(this,e),this.name="Chamber Of Commerce",this.action=function(e){return 2*ee(e.players[e.index])}},oe=function e(){Object(x.a)(this,e),this.name="Arena",this.action=function(e){return ae(e.players[e.index],"wonders")}},se=function e(){Object(x.a)(this,e),this.name="Other",this.action=function(){return 0}};var ue="misc cards do not play an action",le=function e(){Object(x.a)(this,e),this.name="Raw Materials",this.action=function(){throw new Error(ue)}},de=function e(){Object(x.a)(this,e),this.name="Manufactured Goods",this.action=function(){throw new Error(ue)}},je=function e(){Object(x.a)(this,e),this.name="Military Structures",this.action=function(){throw new Error(ue)}};var be=t(35),he=t(33),fe=function(e){Object(be.a)(t,e);var n=Object(he.a)(t);function t(){var e;Object(x.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Workers Guild",e.action=function(e){return $(Y(e.players,e.index))+$(Q(e.players,e.index))},e}return t}(g),me=function(e){Object(be.a)(t,e);var n=Object(he.a)(t);function t(){var e;Object(x.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Craftsmens Guild",e.action=function(e){return 2*ee(Y(e.players,e.index))+2*ee(Q(e.players,e.index))},e}return t}(g),Oe=function(e){Object(be.a)(t,e);var n=Object(he.a)(t);function t(){var e;Object(x.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Traders Guild",e.action=function(e){return ae(Y(e.players,e.index),"commerce")+ae(Q(e.players,e.index),"commerce")},e}return t}(g),ye=function(e){Object(be.a)(t,e);var n=Object(he.a)(t);function t(){var e;Object(x.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Philosophers Guild",e.action=function(e){return ae(Y(e.players,e.index),"science")+ae(Q(e.players,e.index),"science")},e}return t}(g),pe=function(e){Object(be.a)(t,e);var n=Object(he.a)(t);function t(){var e;Object(x.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Spies Guild",e.action=function(e){return ne(Y(e.players,e.index))+ne(Q(e.players,e.index))},e}return t}(g),ve=function(e){Object(be.a)(t,e);var n=Object(he.a)(t);function t(){var e;Object(x.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Strategists Guild",e.action=function(e){return te(Y(e.players,e.index))+te(Q(e.players,e.index))},e}return t}(g),xe=function(e){Object(be.a)(t,e);var n=Object(he.a)(t);function t(){var e;Object(x.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Shipowners Guild",e.action=function(e){return $(e.players[e.index])+ee(e.players[e.index])+ae(e.players[e.index],"guild")},e}return t}(g),we=function(e){Object(be.a)(t,e);var n=Object(he.a)(t);function t(){var e;Object(x.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Magistrates Guild",e.action=function(e){return ae(Y(e.players,e.index),"civic")+ae(Q(e.players,e.index),"civic")},e}return t}(g),ge=function(e){Object(be.a)(t,e);var n=Object(he.a)(t);function t(){var e;Object(x.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).name="Builders Guild",e.action=function(e){return ae(Y(e.players,e.index),"wonders")+ae(e.players[e.index],"wonders")+ae(Q(e.players,e.index),"wonders")},e}return t}(g);var qe=function(){var e=new Map;return e.set("wonders",I()),function(e){e.set("military",{points:0,cards:[{item:new P,quantity:0},{item:new H,quantity:0}]})}(e),function(e){e.set("money",{points:0,cards:[{item:new B,quantity:0},{item:new G,quantity:0}]})}(e),function(e){e.set("civic",{points:0,cards:[{item:new D,quantity:0},{item:new T,quantity:0},{item:new V,quantity:0},{item:new F,quantity:0},{item:new z,quantity:0},{item:new L,quantity:0},{item:new K,quantity:0}]})}(e),function(e){e.set("science",{points:0,cards:[{item:new W,quantity:0},{item:new J,quantity:0},{item:new U,quantity:0}]})}(e),function(e){e.set("commerce",{points:0,cards:[{item:new ie,quantity:0},{item:new re,quantity:0},{item:new ce,quantity:0},{item:new oe,quantity:0},{item:new se,quantity:0}]})}(e),function(e){e.set("guild",{points:0,cards:[{item:new fe,quantity:0},{item:new me,quantity:0},{item:new Oe,quantity:0},{item:new ye,quantity:0},{item:new pe,quantity:0},{item:new ve,quantity:0},{item:new xe,quantity:0},{item:new we,quantity:0},{item:new ge,quantity:0}]})}(e),function(e){e.set("misc",{points:0,cards:[{item:new le,quantity:0},{item:new de,quantity:0},{item:new je,quantity:0}]})}(e),e},ke=function(){return qe()};function Ae(e){var n=Number.MAX_VALUE;return Object(p.jsxs)("div",{className:"quantity-input",children:[Object(p.jsx)("button",{className:"quantity-input__modifier quantity-input__modifier--left",type:"button",onClick:function(){e.value>0&&e.onChange(e.value-1)},children:"\u2014"}),Object(p.jsx)("input",{className:"quantity-input__screen",type:"text",value:e.value,readOnly:!0}),Object(p.jsx)("button",{className:"quantity-input__modifier quantity-input__modifier--right",type:"button",onClick:function(){e.value<n&&e.onChange(e.value+1)},children:"\uff0b"})]})}var Ce=t(95);var Ne=t(163),Se=t(154);function Me(e){var n,t=function(e){var n=Object(a.useState)(new Map(e)),t=Object(b.a)(n,2),i=t[0],r=t[1];return[i,{set:function(e,n){r((function(t){var a=new Map(t);return a.set(e,n),a}))},unset:function(e){r((function(n){var t=new Map(n);return t.delete(e),t}))},clear:function(){r((function(e){var n=new Map(e);return n.clear(),n}))}}]}(null!==(n=e.board)&&void 0!==n?n:ke()),i=Object(b.a)(t,2),r=i[0],c=i[1].set,o=function(e,n,t){var a=r.get(n);a.cards[t].quantity=e,c(n,a)},s=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(A.a,{children:[Object(p.jsx)(Ce.a,{options:Object.entries(R).map((function(e){return{value:e[0],label:e[1]}})),value:{label:r.get("wonders").option},isSearchable:!1,onChange:function(e){return c("wonders",I(r,e.value))}}),Object(p.jsx)(Ne.a,{label:"Side ".concat(r.get("wonders").sideA?"A":"B"),control:Object(p.jsx)(Se.a,{checked:r.get("wonders").sideA,onChange:function(e){return c("wonders",I(r,null,e.target.checked))}})})]}),Object(p.jsx)("div",{className:"my-2",children:null===r||void 0===r?void 0:r.get("wonders").cards.map((function(e,n){return Object(p.jsx)(C.a.Check,{inline:!0,label:"Phase ".concat(n+1),checked:1===e.quantity,onChange:function(e){return o(+e.target.checked,"wonders",n)},type:"checkbox"},n)}))})]})};return Object(p.jsxs)(N.a,{show:e.show,onHide:e.handleClose,children:[Object(p.jsx)(N.a.Header,{closeButton:!0,children:Object(p.jsx)(N.a.Title,{children:"Scoreboard Builder"})}),Object(p.jsx)(N.a.Body,{className:"p-0",children:Object(p.jsx)(S.a,{children:Object(j.a)(r.keys()).map((function(e,n){return Object(p.jsxs)(S.a.Item,{eventKey:n,children:[Object(p.jsx)(S.a.Header,{children:e}),Object(p.jsx)(S.a.Body,{children:Object(p.jsx)(M.a,{variant:"flush",children:"wonders"===e?Object(p.jsx)(s,{}):null===r||void 0===r?void 0:r.get(e).cards.map((function(n,t){return Object(p.jsxs)(M.a.Item,{className:"d-flex",children:[n.item.name,Object(p.jsx)("div",{className:"flex-grow-1"}),Object(p.jsx)(Ae,{value:n.quantity,onChange:function(n){return o(n,e,t)}})]},t)}))})})]},n)}))})}),Object(p.jsx)(N.a.Footer,{children:Object(p.jsx)(E.a,{variant:"primary",onClick:function(){return e.handleSave(r)},children:"Save Changes"})})]})}var Ee=t(150);function Be(e){return Object(p.jsx)(S.a,{children:Object(j.a)(e.board.keys()).map((function(n,t){return Object(p.jsxs)(S.a.Item,{eventKey:t,children:[Object(p.jsxs)(S.a.Header,{children:[Object(p.jsxs)(Ee.a,{bg:"success",className:"mx-2",pill:!0,children:[" ",e.board.get(n).points]}),n]}),Object(p.jsx)(S.a.Body,{children:Object(p.jsx)(M.a,{variant:"flush",children:e.board.get(n).cards.map((function(e,n){return Object(p.jsxs)(M.a.Item,{className:"d-flex",children:[e.item.name,Object(p.jsx)("div",{className:"flex-grow-1"}),Object(p.jsx)("span",{children:e.quantity})]},n)}))})})]},t)}))})}var Ge=t(2),Pe=t(83),He=function(e){return Object(p.jsx)(Pe.a,{onDragEnd:e.onDragEnd,children:Object(p.jsx)(Pe.c,{droppableId:"droppable",children:function(n){return Object(p.jsxs)("div",Object(Ge.a)(Object(Ge.a)({},n.droppableProps),{},{ref:n.innerRef,children:[e.children,n.placeholder]}))}})})};He.Drag=function(e){return Object(p.jsx)(Pe.b,{draggableId:e.name,index:e.index,children:function(n,t){return Object(p.jsx)("div",Object(Ge.a)(Object(Ge.a)(Object(Ge.a)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{className:"mb-3",style:(t.isDragging,a=n.draggableProps.style,Object(Ge.a)({userSelect:"none"},a)),children:e.children}));var a}},e.name)};var _e=He,Ie=t(160),Re=t(161),De=function(e){return X(e.map((function(e){return Math.pow(e.quantity,2)})))+7*Math.min.apply(Math,Object(j.a)(e.map((function(e){return e.quantity}))))},Te=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return X(e.map((function(e){return 0===e.quantity?0:e.item.action(n)*e.quantity})))},Ve=function(e){return function(e){var n=e;return n.forEach((function(e,t){e.board&&e.board.forEach((function(a,i){var r=0;switch(i){case"military":case"civic":case"wonders":r=Te(a.cards);break;case"money":r=Math.floor(Te(a.cards)/3);break;case"science":r=De(a.cards);break;case"commerce":case"guild":r=Te(a.cards,{players:n,index:t})}e.board.set(i,Object.assign(a,{points:r}))}))})),n}(e)};function Fe(e){var n=[new q("steven"),new q("charlotte")],t=Object(Ie.a)(n),i=Object(b.a)(t,2),r=i[0],c=i[1],o=c.set,s=c.push,u=c.updateAt,d=c.removeAt,f=Object(a.useState)({open:!1,index:null}),m=Object(b.a)(f,2),O=m[0],y=m[1];Object(Re.a)((function(){console.log("update"),o(Ve(r.slice()))}),[r,O]);var x=function(){y({open:!1,index:null})},w=function(e){return e.board?Object(j.a)(e.board.values()).reduce((function(e,n){return e+n.points}),0):0},g=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(h.a.Item,{eventKey:"1",as:"button",onClick:function(){return function(e){y({open:!0,index:e})}(e)},children:"Add/Edit Scoreboard"}),Object(p.jsx)(h.a.Divider,{}),Object(p.jsx)(h.a.Item,{eventKey:"2",as:"button",onClick:function(){return d(e)},children:"Delete Player"})]})};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{className:"m-3",children:"7-Wonders"}),Object(p.jsxs)(l.a,{children:[Object(p.jsx)(_e,{onDragEnd:function(e){e.destination&&o(function(e,n,t){var a=Array.from(e),i=a.splice(n,1),r=Object(b.a)(i,1)[0];return a.splice(t,0,r),a}(r.slice(),e.source.index,e.destination.index))},children:r.map((function(e,n){return Object(p.jsx)(_e.Drag,{name:e.name,index:n,children:Object(p.jsx)(v,{name:e.name,points:w(e),menu:g(n),children:e.board&&Object(p.jsx)(Be,{board:e.board})},n)},n)}))}),Object(p.jsx)(k,{onClick:function(){var e=prompt("Please enter player name");e&&s(new q(e))}})]}),null!==O.index&&Object(p.jsx)(Me,{show:O.open,handleClose:x,handleSave:function(e){var n=O.index,t=r[n];t.board=e,u(n,t),x()},board:r[O.index].board})]})}var ze=[{path:"/",exact:!0,name:"Home!",main:function(){return Object(p.jsx)("h2",{children:"Home"})}},{path:"/sevenwonders",name:"7 Wonders",main:function(){return Object(p.jsx)(Fe,{})}},{path:"/shoelaces",name:"Shoelaces!",main:function(){return Object(p.jsx)("h2",{children:"Shoelaces"})}}];function Le(){return Object(p.jsx)(u.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(p.jsxs)(l.a,{children:[Object(p.jsx)(u.a.Brand,{children:"Game Scores"}),Object(p.jsx)(u.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(p.jsx)(u.a.Collapse,{id:"responsive-navbar-nav",children:Object(p.jsx)(d.a,{className:"me-auto",children:ze.map((function(e,n){return Object(p.jsx)(d.a.Link,{as:o.b,to:e.path,href:e.path,children:e.name},n)}))})})]})})}function Ke(){return Object(p.jsxs)(o.a,{children:[Object(p.jsx)(Le,{}),Object(p.jsx)(s.c,{children:ze.map((function(e,n){return Object(p.jsx)(s.a,{path:e.path,exact:e.exact,children:Object(p.jsx)(e.main,{})},n)}))})]})}c.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(Ke,{})}),document.getElementById("root"))}},[[126,1,2]]]);
//# sourceMappingURL=main.2bf28576.chunk.js.map